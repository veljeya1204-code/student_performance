{"ast":null,"code":"// // frontend/src/components/CGPACalculator.js\n// import React, { useState, useEffect } from \"react\";\n// import { cgpaAPI } from \"../api\";\n// import {\n//   ResponsiveContainer,\n//   BarChart,\n//   Bar,\n//   XAxis,\n//   YAxis,\n//   Tooltip,\n//   CartesianGrid,\n// } from \"recharts\";\n// import \"./CGPACalculator.css\";\n\n// const GRADE_POINTS = {\n//   'O': 10, 'A+': 9, 'A': 8, 'B+': 7, 'B': 6, 'C': 5, 'P': 4, 'F': 0\n// };\n\n// function CGPACalculator({ className = \"\" }) {\n//   const [studentId, setStudentId] = useState(\"\");\n//   const [subjects, setSubjects] = useState([]);\n//   const [currentSubject, setCurrentSubject] = useState({ code: \"\", grade: \"\", credits: \"\" });\n//   const [result, setResult] = useState(null);\n//   const [loading, setLoading] = useState(false);\n//   const [activeTab, setActiveTab] = useState(\"input\");\n\n//   useEffect(() => {\n//     const saved = localStorage.getItem(\"cgpaResult\");\n//     if (saved) {\n//       const parsed = JSON.parse(saved);\n//       setResult(parsed);\n//       if (parsed.subjects) {\n//         setSubjects(parsed.subjects || []);\n//       }\n//     }\n//   }, []);\n\n//   const addSubject = () => {\n//     if (!currentSubject.code || !currentSubject.grade || !currentSubject.credits) return;\n\n//     const gradePoint = GRADE_POINTS[currentSubject.grade.toUpperCase()] || 0;\n//     const newSubject = { \n//       ...currentSubject, \n//       gradePoint,\n//       sgpa: (gradePoint * parseFloat(currentSubject.credits)).toFixed(2)\n//     };\n\n//     setSubjects([...subjects, newSubject]);\n//     setCurrentSubject({ code: \"\", grade: \"\", credits: \"\" });\n//   };\n\n//   const removeSubject = (index) => {\n//     setSubjects(subjects.filter((_, i) => i !== index));\n//   };\n\n//   const calculateLocal = () => {\n//     if (subjects.length === 0) return;\n\n//     const totalGradePoints = subjects.reduce((sum, s) => sum + (s.gradePoint * parseFloat(s.credits)), 0);\n//     const totalCredits = subjects.reduce((sum, s) => sum + parseFloat(s.credits), 0);\n//     const sgpa = (totalGradePoints / totalCredits).toFixed(2);\n\n//     return {\n//       current_gpa: sgpa,\n//       cgpa: sgpa, // For single semester\n//       total_credits: totalCredits,\n//       subjects\n//     };\n//   };\n\n//   const handleSubmit = async () => {\n//     if (subjects.length === 0) return;\n\n//     setLoading(true);\n//     try {\n//       const payload = {\n//         student_id: parseInt(studentId) || 1,\n//         marks: subjects.reduce((acc, s) => {\n//           acc[s.code] = s.grade;\n//           return acc;\n//         }, {})\n//       };\n\n//       const res = await cgpaAPI.calculate(payload);\n//       const finalResult = { ...res.data, subjects };\n//       setResult(finalResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(finalResult));\n//     } catch (err) {\n//       // Fallback to local calculation\n//       const localResult = calculateLocal();\n//       setResult(localResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(localResult));\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const chartData = subjects.map((s, i) => ({\n//     subject: s.code.substring(0, 8),\n//     grade: s.gradePoint,\n//     credits: parseFloat(s.credits)\n//   }));\n\n//   return (\n//     <div className={`cgpa-calculator ${className}`}>\n//       <div className=\"cgpa-header\">\n//         <h2>üßÆ CGPA Calculator</h2>\n//         <p>Track your academic performance with real-time calculations</p>\n//       </div>\n\n//       <div className=\"cgpa-tabs\">\n//         <button \n//           className={`tab ${activeTab === \"input\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"input\")}\n//         >\n//           üìù Input Grades\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"results\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"results\")}\n//         >\n//           üìä Results & Charts\n//         </button>\n//       </div>\n\n//       <div className=\"cgpa-content\">\n//         {activeTab === \"input\" && (\n//           <div className=\"input-section\">\n//             <div className=\"student-id-section\">\n//               <label>Student ID</label>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Enter Student ID\"\n//                 value={studentId}\n//                 onChange={(e) => setStudentId(e.target.value)}\n//                 className=\"cyber-input\"\n//               />\n//             </div>\n\n//             <div className=\"add-subject-form\">\n//               <div className=\"input-group\">\n//                 <input\n//                   placeholder=\"Subject Code (e.g., CS101)\"\n//                   value={currentSubject.code}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, code: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//                 <select\n//                   value={currentSubject.grade}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, grade: e.target.value})}\n//                   className=\"cyber-select\"\n//                 >\n//                   <option value=\"\">Select Grade</option>\n//                   <option value=\"O\">O (10)</option>\n//                   <option value=\"A+\">A+ (9)</option>\n//                   <option value=\"A\">A (8)</option>\n//                   <option value=\"B+\">B+ (7)</option>\n//                   <option value=\"B\">B (6)</option>\n//                   <option value=\"C\">C (5)</option>\n//                   <option value=\"P\">P (4)</option>\n//                   <option value=\"F\">F (0)</option>\n//                 </select>\n//                 <input\n//                   type=\"number\"\n//                   step=\"0.5\"\n//                   placeholder=\"Credits (e.g., 4)\"\n//                   value={currentSubject.credits}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, credits: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//               </div>\n//               <button onClick={addSubject} className=\"add-btn\">\n//                 ‚ûï Add Subject\n//               </button>\n//             </div>\n\n//             <div className=\"subjects-list\">\n//               {subjects.map((subject, index) => (\n//                 <div key={index} className=\"subject-item\">\n//                   <div className=\"subject-info\">\n//                     <span className=\"subject-code\">{subject.code}</span>\n//                     <span className={`grade-badge ${subject.grade}`}>{subject.grade}</span>\n//                     <span className=\"credits\">{subject.credits}cr</span>\n//                   </div>\n//                   <button \n//                     onClick={() => removeSubject(index)}\n//                     className=\"remove-btn\"\n//                   >\n//                     üóëÔ∏è\n//                   </button>\n//                 </div>\n//               ))}\n//               {subjects.length === 0 && (\n//                 <div className=\"empty-state\">\n//                   <p>No subjects added yet. Add your first subject! üéØ</p>\n//                 </div>\n//               )}\n//             </div>\n\n//             <button \n//               onClick={handleSubmit} \n//               disabled={subjects.length === 0 || loading}\n//               className=\"calculate-btn\"\n//             >\n//               {loading ? \"üîÑ Calculating...\" : `üöÄ Calculate CGPA (${subjects.length} subjects)`}\n//             </button>\n//           </div>\n//         )}\n\n//         {activeTab === \"results\" && (\n//           <div className=\"results-section\">\n//             {result ? (\n//               <>\n//                 <div className=\"results-grid\">\n//                   <div className=\"result-card primary\">\n//                     <div className=\"result-label\">Current SGPA</div>\n//                     <div className=\"result-value\">{result.current_gpa || 0}</div>\n//                     <div className=\"result-grade\">\n//                       {result.current_gpa >= 9 ? \"üëë Outstanding\" : \n//                        result.current_gpa >= 8 ? \"ü•á Excellent\" :\n//                        result.current_gpa >= 7 ? \"ü•à Very Good\" :\n//                        result.current_gpa >= 6 ? \"üëç Good\" : \"üìà Keep Going\"}\n//                     </div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Total Credits</div>\n//                     <div className=\"result-value\">{result.total_credits || 0}</div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Subjects</div>\n//                     <div className=\"result-value\">{subjects.length}</div>\n//                   </div>\n//                 </div>\n\n//                 <div className=\"chart-container\">\n//                   <h4>Grade Distribution</h4>\n//                   <ResponsiveContainer width=\"100%\" height={400}>\n//                     <BarChart data={chartData}>\n//                       <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(255,255,255,0.1)\" />\n//                       <XAxis dataKey=\"subject\" stroke=\"#a78bfa\" />\n//                       <YAxis stroke=\"#a78bfa\" />\n//                       <Tooltip />\n//                       <Bar dataKey=\"grade\" fill=\"url(#gradeGradient)\" />\n//                     </BarChart>\n//                   </ResponsiveContainer>\n//                 </div>\n//               </>\n//             ) : (\n//               <div className=\"empty-results\">\n//                 <div className=\"empty-icon\">üìä</div>\n//                 <h3>No Results Yet</h3>\n//                 <p>Add subjects and calculate to see your CGPA analysis</p>\n//               </div>\n//             )}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default CGPACalculator;","map":{"version":3,"names":[],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/components/CGPACalculator.js"],"sourcesContent":["// // frontend/src/components/CGPACalculator.js\n// import React, { useState, useEffect } from \"react\";\n// import { cgpaAPI } from \"../api\";\n// import {\n//   ResponsiveContainer,\n//   BarChart,\n//   Bar,\n//   XAxis,\n//   YAxis,\n//   Tooltip,\n//   CartesianGrid,\n// } from \"recharts\";\n// import \"./CGPACalculator.css\";\n\n// const GRADE_POINTS = {\n//   'O': 10, 'A+': 9, 'A': 8, 'B+': 7, 'B': 6, 'C': 5, 'P': 4, 'F': 0\n// };\n\n// function CGPACalculator({ className = \"\" }) {\n//   const [studentId, setStudentId] = useState(\"\");\n//   const [subjects, setSubjects] = useState([]);\n//   const [currentSubject, setCurrentSubject] = useState({ code: \"\", grade: \"\", credits: \"\" });\n//   const [result, setResult] = useState(null);\n//   const [loading, setLoading] = useState(false);\n//   const [activeTab, setActiveTab] = useState(\"input\");\n\n//   useEffect(() => {\n//     const saved = localStorage.getItem(\"cgpaResult\");\n//     if (saved) {\n//       const parsed = JSON.parse(saved);\n//       setResult(parsed);\n//       if (parsed.subjects) {\n//         setSubjects(parsed.subjects || []);\n//       }\n//     }\n//   }, []);\n\n//   const addSubject = () => {\n//     if (!currentSubject.code || !currentSubject.grade || !currentSubject.credits) return;\n    \n//     const gradePoint = GRADE_POINTS[currentSubject.grade.toUpperCase()] || 0;\n//     const newSubject = { \n//       ...currentSubject, \n//       gradePoint,\n//       sgpa: (gradePoint * parseFloat(currentSubject.credits)).toFixed(2)\n//     };\n    \n//     setSubjects([...subjects, newSubject]);\n//     setCurrentSubject({ code: \"\", grade: \"\", credits: \"\" });\n//   };\n\n//   const removeSubject = (index) => {\n//     setSubjects(subjects.filter((_, i) => i !== index));\n//   };\n\n//   const calculateLocal = () => {\n//     if (subjects.length === 0) return;\n    \n//     const totalGradePoints = subjects.reduce((sum, s) => sum + (s.gradePoint * parseFloat(s.credits)), 0);\n//     const totalCredits = subjects.reduce((sum, s) => sum + parseFloat(s.credits), 0);\n//     const sgpa = (totalGradePoints / totalCredits).toFixed(2);\n    \n//     return {\n//       current_gpa: sgpa,\n//       cgpa: sgpa, // For single semester\n//       total_credits: totalCredits,\n//       subjects\n//     };\n//   };\n\n//   const handleSubmit = async () => {\n//     if (subjects.length === 0) return;\n    \n//     setLoading(true);\n//     try {\n//       const payload = {\n//         student_id: parseInt(studentId) || 1,\n//         marks: subjects.reduce((acc, s) => {\n//           acc[s.code] = s.grade;\n//           return acc;\n//         }, {})\n//       };\n      \n//       const res = await cgpaAPI.calculate(payload);\n//       const finalResult = { ...res.data, subjects };\n//       setResult(finalResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(finalResult));\n//     } catch (err) {\n//       // Fallback to local calculation\n//       const localResult = calculateLocal();\n//       setResult(localResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(localResult));\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const chartData = subjects.map((s, i) => ({\n//     subject: s.code.substring(0, 8),\n//     grade: s.gradePoint,\n//     credits: parseFloat(s.credits)\n//   }));\n\n//   return (\n//     <div className={`cgpa-calculator ${className}`}>\n//       <div className=\"cgpa-header\">\n//         <h2>üßÆ CGPA Calculator</h2>\n//         <p>Track your academic performance with real-time calculations</p>\n//       </div>\n\n//       <div className=\"cgpa-tabs\">\n//         <button \n//           className={`tab ${activeTab === \"input\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"input\")}\n//         >\n//           üìù Input Grades\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"results\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"results\")}\n//         >\n//           üìä Results & Charts\n//         </button>\n//       </div>\n\n//       <div className=\"cgpa-content\">\n//         {activeTab === \"input\" && (\n//           <div className=\"input-section\">\n//             <div className=\"student-id-section\">\n//               <label>Student ID</label>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Enter Student ID\"\n//                 value={studentId}\n//                 onChange={(e) => setStudentId(e.target.value)}\n//                 className=\"cyber-input\"\n//               />\n//             </div>\n\n//             <div className=\"add-subject-form\">\n//               <div className=\"input-group\">\n//                 <input\n//                   placeholder=\"Subject Code (e.g., CS101)\"\n//                   value={currentSubject.code}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, code: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//                 <select\n//                   value={currentSubject.grade}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, grade: e.target.value})}\n//                   className=\"cyber-select\"\n//                 >\n//                   <option value=\"\">Select Grade</option>\n//                   <option value=\"O\">O (10)</option>\n//                   <option value=\"A+\">A+ (9)</option>\n//                   <option value=\"A\">A (8)</option>\n//                   <option value=\"B+\">B+ (7)</option>\n//                   <option value=\"B\">B (6)</option>\n//                   <option value=\"C\">C (5)</option>\n//                   <option value=\"P\">P (4)</option>\n//                   <option value=\"F\">F (0)</option>\n//                 </select>\n//                 <input\n//                   type=\"number\"\n//                   step=\"0.5\"\n//                   placeholder=\"Credits (e.g., 4)\"\n//                   value={currentSubject.credits}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, credits: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//               </div>\n//               <button onClick={addSubject} className=\"add-btn\">\n//                 ‚ûï Add Subject\n//               </button>\n//             </div>\n\n//             <div className=\"subjects-list\">\n//               {subjects.map((subject, index) => (\n//                 <div key={index} className=\"subject-item\">\n//                   <div className=\"subject-info\">\n//                     <span className=\"subject-code\">{subject.code}</span>\n//                     <span className={`grade-badge ${subject.grade}`}>{subject.grade}</span>\n//                     <span className=\"credits\">{subject.credits}cr</span>\n//                   </div>\n//                   <button \n//                     onClick={() => removeSubject(index)}\n//                     className=\"remove-btn\"\n//                   >\n//                     üóëÔ∏è\n//                   </button>\n//                 </div>\n//               ))}\n//               {subjects.length === 0 && (\n//                 <div className=\"empty-state\">\n//                   <p>No subjects added yet. Add your first subject! üéØ</p>\n//                 </div>\n//               )}\n//             </div>\n\n//             <button \n//               onClick={handleSubmit} \n//               disabled={subjects.length === 0 || loading}\n//               className=\"calculate-btn\"\n//             >\n//               {loading ? \"üîÑ Calculating...\" : `üöÄ Calculate CGPA (${subjects.length} subjects)`}\n//             </button>\n//           </div>\n//         )}\n\n//         {activeTab === \"results\" && (\n//           <div className=\"results-section\">\n//             {result ? (\n//               <>\n//                 <div className=\"results-grid\">\n//                   <div className=\"result-card primary\">\n//                     <div className=\"result-label\">Current SGPA</div>\n//                     <div className=\"result-value\">{result.current_gpa || 0}</div>\n//                     <div className=\"result-grade\">\n//                       {result.current_gpa >= 9 ? \"üëë Outstanding\" : \n//                        result.current_gpa >= 8 ? \"ü•á Excellent\" :\n//                        result.current_gpa >= 7 ? \"ü•à Very Good\" :\n//                        result.current_gpa >= 6 ? \"üëç Good\" : \"üìà Keep Going\"}\n//                     </div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Total Credits</div>\n//                     <div className=\"result-value\">{result.total_credits || 0}</div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Subjects</div>\n//                     <div className=\"result-value\">{subjects.length}</div>\n//                   </div>\n//                 </div>\n\n//                 <div className=\"chart-container\">\n//                   <h4>Grade Distribution</h4>\n//                   <ResponsiveContainer width=\"100%\" height={400}>\n//                     <BarChart data={chartData}>\n//                       <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(255,255,255,0.1)\" />\n//                       <XAxis dataKey=\"subject\" stroke=\"#a78bfa\" />\n//                       <YAxis stroke=\"#a78bfa\" />\n//                       <Tooltip />\n//                       <Bar dataKey=\"grade\" fill=\"url(#gradeGradient)\" />\n//                     </BarChart>\n//                   </ResponsiveContainer>\n//                 </div>\n//               </>\n//             ) : (\n//               <div className=\"empty-results\">\n//                 <div className=\"empty-icon\">üìä</div>\n//                 <h3>No Results Yet</h3>\n//                 <p>Add subjects and calculate to see your CGPA analysis</p>\n//               </div>\n//             )}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default CGPACalculator;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}