{"ast":null,"code":"var _jsxFileName = \"/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\n// import Login from '../components/Login';\n// import AdminDashboard from './AdminDashboard';\n// import TeacherDashboard from './TeacherDashboard';\n\n// function App() {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     // Check localStorage on boot\n//     const storedUser = localStorage.getItem('user');\n//     if (storedUser) {\n//       try {\n//         setUser(JSON.parse(storedUser));\n//       } catch (error) {\n//         localStorage.clear();\n//       }\n//     }\n//     setLoading(false); // Stop loading after check\n//   }, []);\n\n//   const handleLogin = (data) => {\n//     // data comes from res.data (contains {user, token})\n//     setUser(data.user);\n//     localStorage.setItem('user', JSON.stringify(data.user));\n//     localStorage.setItem('token', data.token);\n//   };\n\n//   const handleLogout = () => {\n//     setUser(null);\n//     localStorage.clear();\n//   };\n\n//   if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n//   return (\n//     <Router>\n//       <Routes>\n//         <Route \n//           path=\"/login\" \n//           element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />} \n//         />\n\n//         <Route\n//           path=\"/dashboard\"\n//           element={\n//             user ? (\n//               user.role === 'admin' ? (\n//                 <AdminDashboard user={user} onLogout={handleLogout} />\n//               ) : (\n//                 <TeacherDashboard user={user} onLogout={handleLogout} />\n//               )\n//             ) : (\n//               <Navigate to=\"/login\" replace />\n//             )\n//           }\n//         />\n\n//         <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n//       </Routes>\n//     </Router>\n//   );\n// }\n\n// export default App;\nimport React, { useState, useEffect } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Login from '../components/Login';\nimport AdminDashboard from './AdminDashboard';\nimport TeacherDashboard from './TeacherDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser));\n      } catch (error) {\n        localStorage.clear();\n      }\n    }\n    setLoading(false);\n  }, []);\n  const handleLogin = data => {\n    setUser(data.user);\n    localStorage.setItem('user', JSON.stringify(data.user));\n    localStorage.setItem('token', data.token);\n  };\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.clear();\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Initializing System...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: !user ? /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 26\n      }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/dashboard\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 60\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/dashboard\",\n      element: user ? user.role === 'admin' ? /*#__PURE__*/_jsxDEV(AdminDashboard, {\n        user: user,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(TeacherDashboard, {\n        user: user,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: user ? \"/dashboard\" : \"/login\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","Login","AdminDashboard","TeacherDashboard","jsxDEV","_jsxDEV","App","_s","user","setUser","loading","setLoading","storedUser","localStorage","getItem","JSON","parse","error","clear","handleLogin","data","setItem","stringify","token","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onLogin","to","replace","role","onLogout","_c","$RefreshReg$"],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\n// import Login from '../components/Login';\n// import AdminDashboard from './AdminDashboard';\n// import TeacherDashboard from './TeacherDashboard';\n\n// function App() {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     // Check localStorage on boot\n//     const storedUser = localStorage.getItem('user');\n//     if (storedUser) {\n//       try {\n//         setUser(JSON.parse(storedUser));\n//       } catch (error) {\n//         localStorage.clear();\n//       }\n//     }\n//     setLoading(false); // Stop loading after check\n//   }, []);\n\n//   const handleLogin = (data) => {\n//     // data comes from res.data (contains {user, token})\n//     setUser(data.user);\n//     localStorage.setItem('user', JSON.stringify(data.user));\n//     localStorage.setItem('token', data.token);\n//   };\n\n//   const handleLogout = () => {\n//     setUser(null);\n//     localStorage.clear();\n//   };\n\n//   if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n//   return (\n//     <Router>\n//       <Routes>\n//         <Route \n//           path=\"/login\" \n//           element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />} \n//         />\n\n//         <Route\n//           path=\"/dashboard\"\n//           element={\n//             user ? (\n//               user.role === 'admin' ? (\n//                 <AdminDashboard user={user} onLogout={handleLogout} />\n//               ) : (\n//                 <TeacherDashboard user={user} onLogout={handleLogout} />\n//               )\n//             ) : (\n//               <Navigate to=\"/login\" replace />\n//             )\n//           }\n//         />\n\n//         <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n//       </Routes>\n//     </Router>\n//   );\n// }\n\n// export default App;\nimport React, { useState, useEffect } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Login from '../components/Login';\nimport AdminDashboard from './AdminDashboard';\nimport TeacherDashboard from './TeacherDashboard';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser));\n      } catch (error) {\n        localStorage.clear();\n      }\n    }\n\n    setLoading(false);\n  }, []);\n\n  const handleLogin = (data) => {\n    setUser(data.user);\n    localStorage.setItem('user', JSON.stringify(data.user));\n    localStorage.setItem('token', data.token);\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.clear();\n  };\n\n  if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n  return (\n    <Routes>\n      <Route\n        path=\"/login\"\n        element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />}\n      />\n\n      <Route\n        path=\"/dashboard\"\n        element={\n          user ? (\n            user.role === 'admin' ? (\n              <AdminDashboard user={user} onLogout={handleLogout} />\n            ) : (\n              <TeacherDashboard user={user} onLogout={handleLogout} />\n            )\n          ) : (\n            <Navigate to=\"/login\" replace />\n          )\n        }\n      />\n\n      <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}