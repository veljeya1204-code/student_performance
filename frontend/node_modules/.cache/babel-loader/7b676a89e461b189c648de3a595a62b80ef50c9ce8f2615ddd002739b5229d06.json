{"ast":null,"code":"var _jsxFileName = \"/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js\",\n  _s = $RefreshSig$();\n// // // frontend/src/dashboards/AdminDashboard.js - COMPLETE FIXED VERSION\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ FIXED: loadData extracted for Refresh button\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] =\n// //         await Promise.all([\n// //           adminAPI.getStudents(),\n// //           adminAPI.getTeachers(),\n// //           adminAPI.getParents(),\n// //           adminAPI.getClasses(),\n// //         ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n// //       console.log(studentsData)\n// //       console.log(teachersData)\n// //       console.log(parentsData)\n// //       console.log(classesData)\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   // ‚úÖ Simplified useEffect\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       {/* ‚úÖ REFRESH BUTTON - Works now! */}\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Students</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No students found</td>\n// //             </tr>\n// //           )}\n// //           {students.map((s) => (\n// //             <tr key={s.id}>\n// //               <td>{`${s.first_name || \"\"} ${s.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {s.class_name}\n// //                 {s.section ? ` - ${s.section}` : \"\"}\n// //               </td>\n// //               <td>{s.roll_number}</td>\n// //               <td>{s.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Teachers</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No teachers found</td>\n// //             </tr>\n// //           )}\n// //           {teachers.map((t) => (\n// //             <tr key={t.id}>\n// //               <td>{`${t.first_name || \"\"} ${t.last_name || \"\"}`.trim()}</td>\n// //               <td>{t.department}</td>\n// //               <td>{t.phone}</td>\n// //               <td>{t.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Parents</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No parents found</td>\n// //             </tr>\n// //           )}\n// //           {parents.map((p) => (\n// //             <tr key={p.id}>\n// //               <td>{`${p.first_name || \"\"} ${p.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {Array.isArray(p.children) && p.children.length > 0\n// //                   ? p.children.map((c) => c.name).join(\", \")\n// //                   : \"‚Äî\"}\n// //               </td>\n// //               <td>{p.phone}</td>\n// //               <td>{p.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Classes</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No classes found</td>\n// //             </tr>\n// //           )}\n// //           {classes.map((c) => (\n// //             <tr key={c.id}>\n// //               <td>{c.class_name}</td>\n// //               <td>{c.section}</td>\n// //               <td>{c.teacher_name || \"Unassigned\"}</td>\n// //               <td>{c.student_count}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // if (loading) {\n// //   //   return (\n// //   //     <div className=\"dashboard-container\">\n// //   //       <div className=\"dashboard-header\">\n// //   //         <h2>Admin Dashboard</h2>\n// //   //       </div>\n// //   //       <p>Loading...</p>\n// //   //     </div>\n// //   //   );\n// //   // }\n// //   if (loading) {\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //       </div>\n// //       <div className=\"skeleton-loader\">\n// //         <div className=\"admin-overview-grid\">\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //         </div>\n// //         <div className=\"skeleton-table\">\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button\n// //           className={tab === \"overview\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"overview\")}\n// //         >\n// //           Overview\n// //         </button>\n// //         <button\n// //           className={tab === \"students\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"students\")}\n// //         >\n// //           Students\n// //         </button>\n// //         <button\n// //           className={tab === \"teachers\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"teachers\")}\n// //         >\n// //           Teachers\n// //         </button>\n// //         <button\n// //           className={tab === \"parents\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"parents\")}\n// //         >\n// //           Parents\n// //         </button>\n// //         <button\n// //           className={tab === \"classes\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"classes\")}\n// //         >\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ CRUD STATES\n// //   const [editingId, setEditingId] = useState(null);\n// //   const [editForms, setEditForms] = useState({});\n// //   const [showCreateModal, setShowCreateModal] = useState({ students: false, teachers: false, parents: false, classes: false });\n// //   const [createForms, setCreateForms] = useState({});\n\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n// //         adminAPI.getStudents(),\n// //         adminAPI.getTeachers(),\n// //         adminAPI.getParents(),\n// //         adminAPI.getClasses(),\n// //       ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   // ‚úÖ SHARED CRUD HANDLERS\n// //   const handleDelete = async (deleteFn, id, entityName) => {\n// //     if (!confirm(`Delete this ${entityName}?`)) return;\n// //     try {\n// //       await deleteFn(id);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to delete ${entityName}`);\n// //     }\n// //   };\n\n// //   const startEdit = (entity, id) => {\n// //     setEditingId(id);\n// //     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n// //   };\n\n// //   const updateEditField = (id, field, value) => {\n// //     setEditForms(prev => ({\n// //       ...prev,\n// //       [id]: { ...prev[id], [field]: value }\n// //     }));\n// //   };\n\n// //   const saveEdit = async (updateFn, id) => {\n// //     try {\n// //       await updateFn(id, editForms[id]);\n// //       setEditingId(null);\n// //       setEditForms({});\n// //       loadData();\n// //     } catch (err) {\n// //       setError('Update failed');\n// //     }\n// //   };\n\n// //   const cancelEdit = () => {\n// //     setEditingId(null);\n// //     setEditForms({});\n// //   };\n\n// //   const openCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n// //     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n// //   };\n\n// //   const closeCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n// //     setCreateForms(prev => { const newForms = { ...prev }; delete newForms[entity]; return newForms; });\n// //   };\n\n// //   const updateCreateField = (entity, field, value) => {\n// //     setCreateForms(prev => ({\n// //       ...prev,\n// //       [entity]: { ...prev[entity], [field]: value }\n// //     }));\n// //   };\n\n// //   const handleCreate = async (createFn, entity) => {\n// //     try {\n// //       await createFn(createForms[entity]);\n// //       closeCreateModal(entity);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to create ${entity}`);\n// //     }\n// //   };\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ STUDENTS TABLE WITH CRUD\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Students</h3>\n// //         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Student\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr><td colSpan={5}>No students found</td></tr>\n// //           )}\n// //           {students.map((s) => {\n// //             const isEditing = editingId === s.id;\n// //             const formData = editForms[s.id] || {};\n// //             return (\n// //               <tr key={s.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || s.first_name}\n// //                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || s.class_name || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.roll_number || s.roll_number || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : s.roll_number || 'N/A'}\n// //                 </td>\n// //                 <td>{s.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button \n// //                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n// //                         className=\"btn btn-success btn-sm\"\n// //                       >\n// //                         üíæ Save\n// //                       </button>\n// //                       <button \n// //                         onClick={cancelEdit}\n// //                         className=\"btn btn-secondary btn-sm\"\n// //                       >\n// //                         ‚ùå Cancel\n// //                       </button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button \n// //                         onClick={() => startEdit(s, s.id)}\n// //                         className=\"btn btn-warning btn-sm\"\n// //                       >\n// //                         ‚úèÔ∏è Edit\n// //                       </button>\n// //                       <button \n// //                         onClick={() => handleDelete(adminAPI.deleteStudent, s.id, 'student')}\n// //                         className=\"btn btn-danger btn-sm\"\n// //                       >\n// //                         üóëÔ∏è Delete\n// //                       </button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ TEACHERS TABLE WITH CRUD\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Teachers</h3>\n// //         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Teacher\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr><td colSpan={5}>No teachers found</td></tr>\n// //           )}\n// //           {teachers.map((t) => {\n// //             const isEditing = editingId === t.id;\n// //             const formData = editForms[t.id] || {};\n// //             return (\n// //               <tr key={t.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || t.first_name}\n// //                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.department || t.department || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.department || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || t.phone || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{t.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ PARENTS TABLE WITH CRUD\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Parents</h3>\n// //         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Parent\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr><td colSpan={5}>No parents found</td></tr>\n// //           )}\n// //           {parents.map((p) => {\n// //             const isEditing = editingId === p.id;\n// //             const formData = editForms[p.id] || {};\n// //             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n// //             return (\n// //               <tr key={p.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || p.first_name}\n// //                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>{childrenNames}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || p.phone || ''}\n// //                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : p.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{p.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CLASSES TABLE WITH CRUD\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Classes</h3>\n// //         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Class\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr><td colSpan={5}>No classes found</td></tr>\n// //           )}\n// //           {classes.map((c) => {\n// //             const isEditing = editingId === c.id;\n// //             const formData = editForms[c.id] || {};\n// //             return (\n// //               <tr key={c.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || c.class_name || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.class_name || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.section || c.section || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.section || 'N/A'}\n// //                 </td>\n// //                 <td>{c.teacher_name || 'Unassigned'}</td>\n// //                 <td>{c.student_count || 0}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CREATE MODALS (Simple forms)\n// //   const renderCreateModal = () => {\n// //     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n// //     if (!entity) return null;\n\n// //     const formData = createForms[entity] || {};\n// //     const fields = {\n// //       students: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n// //         { key: 'class_id', label: 'Class ID', type: 'number' }\n// //       ],\n// //       teachers: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'department', label: 'Department', type: 'text' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       parents: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       classes: [\n// //         { key: 'class_name', label: 'Class Name', type: 'text' },\n// //         { key: 'section', label: 'Section', type: 'text' },\n// //         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n// //       ]\n// //     };\n\n// //     const createFn = {\n// //       students: adminAPI.createStudent,\n// //       teachers: adminAPI.createTeacher,\n// //       parents: adminAPI.createParent,\n// //       classes: adminAPI.createClass\n// //     }[entity];\n\n// //     return (\n// //       <div className=\"modal-overlay\">\n// //         <div className=\"modal\">\n// //           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n// //           <div className=\"modal-form\">\n// //             {fields[entity].map(field => (\n// //               <div key={field.key} className=\"form-group\">\n// //                 <label>{field.label}</label>\n// //                 <input\n// //                   type={field.type}\n// //                   value={formData[field.key] || ''}\n// //                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n// //                   className=\"form-input\"\n// //                 />\n// //               </div>\n// //             ))}\n// //           </div>\n// //           <div className=\"modal-actions\">\n// //             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n// //               Create\n// //             </button>\n// //             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n// //               Cancel\n// //             </button>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   };\n\n// //   if (loading) {\n// //     return (\n// //       <div className=\"dashboard-container\">\n// //         <div className=\"dashboard-header\">\n// //           <h2>Admin Dashboard</h2>\n// //         </div>\n// //         <div className=\"skeleton-loader\">\n// //           <div className=\"admin-overview-grid\">\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n// //           Overview\n// //         </button>\n// //         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n// //           Students\n// //         </button>\n// //         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n// //           Teachers\n// //         </button>\n// //         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n// //           Parents\n// //         </button>\n// //         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //         {renderCreateModal()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ \n//     students: false, \n//     teachers: false, \n//     parents: false, \n//     classes: false \n//   });\n//   const [createForms, setCreateForms] = useState({});\n\n//   // ‚úÖ CONFIRMATION MODAL STATE (FIXES ESLint ERROR)\n//   const [confirmDialog, setConfirmDialog] = useState({\n//     show: false,\n//     title: '',\n//     message: '',\n//     onConfirm: null,\n//     entityName: ''\n//   });\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS (REPLACED confirm() WITH CUSTOM MODAL)\n//   const showConfirm = (title, message, onConfirm, entityName) => {\n//     setConfirmDialog({\n//       show: true,\n//       title,\n//       message,\n//       onConfirm,\n//       entityName\n//     });\n//   };\n\n//   const handleConfirmDelete = async (deleteFn, id, entityName) => {\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     } finally {\n//       setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' });\n//     }\n//   };\n\n//   const confirmDelete = (deleteFn, id, entityName) => {\n//     showConfirm(\n//       'Confirm Delete',\n//       `Are you sure you want to delete this ${entityName}? This action cannot be undone.`,\n//       () => handleConfirmDelete(deleteFn, id, entityName),\n//       entityName\n//     );\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { \n//       const newForms = { ...prev }; \n//       delete newForms[entity]; \n//       return newForms; \n//     });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || s.first_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => confirmDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || t.first_name || ''}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || p.first_name || ''}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       // teachers: [\n//       //   { key: 'first_name', label: 'First Name', type: 'text' },\n//       //   { key: 'last_name', label: 'Last Name', type: 'text' },\n//       //   { key: 'email', label: 'Email', type: 'email' },\n//       //   { key: 'department', label: 'Department', type: 'text' },\n//       //   { key: 'phone', label: 'Phone', type: 'tel' }\n//       // ],\n//       teachers: [\n//      { key: 'first_name', label: 'First Name', type: 'text' },\n//      { key: 'last_name', label: 'Last Name', type: 'text' },\n//      { key: 'email', label: 'Email', type: 'email' },\n//      { key: 'department', label: 'Department', type: 'text' },\n//      { key: 'phone', label: 'Phone', type: 'tel' },\n\n//   // ‚úÖ Added fields\n//      { key: 'qualification', label: 'Qualification', type: 'text' },\n//      { key: 'hire_date', label: 'Hire Date', type: 'date' }\n//      ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   // ‚úÖ CONFIRM DELETE MODAL (FIXES ESLint)\n//   const renderConfirmDialog = () => {\n//     if (!confirmDialog.show) return null;\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal confirm-modal\">\n//           <h3>{confirmDialog.title}</h3>\n//           <p>{confirmDialog.message}</p>\n//           <div className=\"modal-actions\">\n//             <button \n//               onClick={confirmDialog.onConfirm} \n//               className=\"btn btn-danger\"\n//             >\n//               ‚úÖ Yes, Delete\n//             </button>\n//             <button \n//               onClick={() => setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' })}\n//               className=\"btn btn-secondary\"\n//             >\n//               ‚ùå Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//         {renderConfirmDialog()} {/* ‚úÖ ADDED CONFIRM MODAL */}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\nimport React, { useEffect, useState } from \"react\";\nimport { adminAPI } from \"../api\";\nimport \"./AdminDashboard.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminDashboard({\n  user,\n  onLogout\n}) {\n  _s();\n  const [stats, setStats] = useState({\n    totalStudents: 0,\n    totalTeachers: 0,\n    totalParents: 0,\n    totalClasses: 0\n  });\n  const [students, setStudents] = useState([]);\n  const [teachers, setTeachers] = useState([]);\n  const [parents, setParents] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [tab, setTab] = useState(\"overview\");\n  const [error, setError] = useState(\"\");\n  const [editingId, setEditingId] = useState(null);\n  const [editForms, setEditForms] = useState({});\n  const [showCreateModal, setShowCreateModal] = useState(null);\n  const [createForm, setCreateForm] = useState({});\n  const [confirmDialog, setConfirmDialog] = useState({\n    show: false,\n    onConfirm: null\n  });\n\n  // ================= LOAD DATA =================\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      setError(\"\");\n      const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([adminAPI.getStudents(), adminAPI.getTeachers(), adminAPI.getParents(), adminAPI.getClasses()]);\n      const s = studentsRes.data || [];\n      const t = teachersRes.data || [];\n      const p = parentsRes.data || [];\n      const c = classesRes.data || [];\n      setStudents(s);\n      setTeachers(t);\n      setParents(p);\n      setClasses(c);\n      setStats({\n        totalStudents: s.length,\n        totalTeachers: t.length,\n        totalParents: p.length,\n        totalClasses: c.length\n      });\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load admin data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // ================= CRUD =================\n  const startEdit = entity => {\n    setEditingId(entity.id);\n    setEditForms({\n      ...entity\n    });\n  };\n  const saveEdit = async updateFn => {\n    try {\n      await updateFn(editingId, editForms);\n      setEditingId(null);\n      setEditForms({});\n      loadData();\n    } catch {\n      setError(\"Update failed\");\n    }\n  };\n  const confirmDelete = (deleteFn, id) => {\n    setConfirmDialog({\n      show: true,\n      onConfirm: async () => {\n        await deleteFn(id);\n        setConfirmDialog({\n          show: false\n        });\n        loadData();\n      }\n    });\n  };\n  const handleCreate = async createFn => {\n    try {\n      await createFn(createForm);\n      setShowCreateModal(null);\n      setCreateForm({});\n      loadData();\n    } catch {\n      setError(\"Create failed\");\n    }\n  };\n\n  // ================= TABLE RENDER =================\n  const renderTable = (data, type) => {\n    const config = {\n      students: {\n        title: \"Students\",\n        create: adminAPI.createStudent,\n        update: adminAPI.updateStudent,\n        delete: adminAPI.deleteStudent,\n        columns: [\"first_name\", \"last_name\", \"email\"]\n      },\n      teachers: {\n        title: \"Teachers\",\n        create: adminAPI.createTeacher,\n        update: adminAPI.updateTeacher,\n        delete: adminAPI.deleteTeacher,\n        columns: [\"first_name\", \"department\", \"email\"]\n      },\n      parents: {\n        title: \"Parents\",\n        create: adminAPI.createParent,\n        update: adminAPI.updateParent,\n        delete: adminAPI.deleteParent,\n        columns: [\"first_name\", \"phone\", \"email\"]\n      },\n      classes: {\n        title: \"Classes\",\n        create: adminAPI.createClass,\n        update: adminAPI.updateClass,\n        delete: adminAPI.deleteClass,\n        columns: [\"class_name\", \"section\"]\n      }\n    }[type];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: config.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1769,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setShowCreateModal(type),\n          children: \"\\u2795 Add New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1770,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1768,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [config.columns.map(col => /*#__PURE__*/_jsxDEV(\"th\", {\n              children: col\n            }, col, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1782,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1784,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1780,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1779,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [config.columns.map(col => /*#__PURE__*/_jsxDEV(\"td\", {\n              children: editingId === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                value: editForms[col] || \"\",\n                onChange: e => setEditForms({\n                  ...editForms,\n                  [col]: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1794,\n                columnNumber: 23\n              }, this) : item[col] || \"N/A\"\n            }, col, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1792,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: editingId === item.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success btn-sm\",\n                  onClick: () => saveEdit(config.update),\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1812,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary btn-sm\",\n                  onClick: () => setEditingId(null),\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1818,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning btn-sm\",\n                  onClick: () => startEdit(item),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1827,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger btn-sm\",\n                  onClick: () => confirmDelete(config.delete, item.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1833,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1809,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1790,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1788,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1778,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1767,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ================= UI =================\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1853,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1858,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: user === null || user === void 0 ? void 0 : user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1860,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onLogout,\n          className: \"btn btn-secondary\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1861,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1859,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1857,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-banner\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1867,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-tabs\",\n      children: [\"overview\", \"students\", \"teachers\", \"parents\", \"classes\"].map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: tab === t ? \"tab active\" : \"tab\",\n        onClick: () => setTab(t),\n        children: t\n      }, t, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1872,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1869,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [tab === \"overview\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-overview-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total Students: \", stats.totalStudents]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1886,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total Teachers: \", stats.totalTeachers]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1887,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total Parents: \", stats.totalParents]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1888,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total Classes: \", stats.totalClasses]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1889,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1885,\n        columnNumber: 11\n      }, this), tab === \"students\" && renderTable(students, \"students\"), tab === \"teachers\" && renderTable(teachers, \"teachers\"), tab === \"parents\" && renderTable(parents, \"parents\"), tab === \"classes\" && renderTable(classes, \"classes\")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1883,\n      columnNumber: 7\n    }, this), confirmDialog.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1902,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: confirmDialog.onConfirm,\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1903,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setConfirmDialog({\n            show: false\n          }),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1909,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1901,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1900,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1856,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminDashboard, \"5oa87zJdF68CaBE5uzJzk+o58Gc=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useEffect","useState","adminAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","user","onLogout","_s","stats","setStats","totalStudents","totalTeachers","totalParents","totalClasses","students","setStudents","teachers","setTeachers","parents","setParents","classes","setClasses","loading","setLoading","tab","setTab","error","setError","editingId","setEditingId","editForms","setEditForms","showCreateModal","setShowCreateModal","createForm","setCreateForm","confirmDialog","setConfirmDialog","show","onConfirm","loadData","studentsRes","teachersRes","parentsRes","classesRes","Promise","all","getStudents","getTeachers","getParents","getClasses","s","data","t","p","c","length","err","console","startEdit","entity","id","saveEdit","updateFn","confirmDelete","deleteFn","handleCreate","createFn","renderTable","type","config","title","create","createStudent","update","updateStudent","delete","deleteStudent","columns","createTeacher","updateTeacher","deleteTeacher","createParent","updateParent","deleteParent","createClass","updateClass","deleteClass","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","col","item","value","onChange","e","target","email","_c","$RefreshReg$"],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js"],"sourcesContent":["// // // frontend/src/dashboards/AdminDashboard.js - COMPLETE FIXED VERSION\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ FIXED: loadData extracted for Refresh button\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] =\n// //         await Promise.all([\n// //           adminAPI.getStudents(),\n// //           adminAPI.getTeachers(),\n// //           adminAPI.getParents(),\n// //           adminAPI.getClasses(),\n// //         ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n// //       console.log(studentsData)\n// //       console.log(teachersData)\n// //       console.log(parentsData)\n// //       console.log(classesData)\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n  \n// //   // ‚úÖ Simplified useEffect\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       {/* ‚úÖ REFRESH BUTTON - Works now! */}\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Students</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No students found</td>\n// //             </tr>\n// //           )}\n// //           {students.map((s) => (\n// //             <tr key={s.id}>\n// //               <td>{`${s.first_name || \"\"} ${s.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {s.class_name}\n// //                 {s.section ? ` - ${s.section}` : \"\"}\n// //               </td>\n// //               <td>{s.roll_number}</td>\n// //               <td>{s.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Teachers</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No teachers found</td>\n// //             </tr>\n// //           )}\n// //           {teachers.map((t) => (\n// //             <tr key={t.id}>\n// //               <td>{`${t.first_name || \"\"} ${t.last_name || \"\"}`.trim()}</td>\n// //               <td>{t.department}</td>\n// //               <td>{t.phone}</td>\n// //               <td>{t.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Parents</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No parents found</td>\n// //             </tr>\n// //           )}\n// //           {parents.map((p) => (\n// //             <tr key={p.id}>\n// //               <td>{`${p.first_name || \"\"} ${p.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {Array.isArray(p.children) && p.children.length > 0\n// //                   ? p.children.map((c) => c.name).join(\", \")\n// //                   : \"‚Äî\"}\n// //               </td>\n// //               <td>{p.phone}</td>\n// //               <td>{p.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Classes</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No classes found</td>\n// //             </tr>\n// //           )}\n// //           {classes.map((c) => (\n// //             <tr key={c.id}>\n// //               <td>{c.class_name}</td>\n// //               <td>{c.section}</td>\n// //               <td>{c.teacher_name || \"Unassigned\"}</td>\n// //               <td>{c.student_count}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // if (loading) {\n// //   //   return (\n// //   //     <div className=\"dashboard-container\">\n// //   //       <div className=\"dashboard-header\">\n// //   //         <h2>Admin Dashboard</h2>\n// //   //       </div>\n// //   //       <p>Loading...</p>\n// //   //     </div>\n// //   //   );\n// //   // }\n// //   if (loading) {\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //       </div>\n// //       <div className=\"skeleton-loader\">\n// //         <div className=\"admin-overview-grid\">\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //         </div>\n// //         <div className=\"skeleton-table\">\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button\n// //           className={tab === \"overview\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"overview\")}\n// //         >\n// //           Overview\n// //         </button>\n// //         <button\n// //           className={tab === \"students\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"students\")}\n// //         >\n// //           Students\n// //         </button>\n// //         <button\n// //           className={tab === \"teachers\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"teachers\")}\n// //         >\n// //           Teachers\n// //         </button>\n// //         <button\n// //           className={tab === \"parents\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"parents\")}\n// //         >\n// //           Parents\n// //         </button>\n// //         <button\n// //           className={tab === \"classes\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"classes\")}\n// //         >\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ CRUD STATES\n// //   const [editingId, setEditingId] = useState(null);\n// //   const [editForms, setEditForms] = useState({});\n// //   const [showCreateModal, setShowCreateModal] = useState({ students: false, teachers: false, parents: false, classes: false });\n// //   const [createForms, setCreateForms] = useState({});\n\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n// //         adminAPI.getStudents(),\n// //         adminAPI.getTeachers(),\n// //         adminAPI.getParents(),\n// //         adminAPI.getClasses(),\n// //       ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   // ‚úÖ SHARED CRUD HANDLERS\n// //   const handleDelete = async (deleteFn, id, entityName) => {\n// //     if (!confirm(`Delete this ${entityName}?`)) return;\n// //     try {\n// //       await deleteFn(id);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to delete ${entityName}`);\n// //     }\n// //   };\n\n// //   const startEdit = (entity, id) => {\n// //     setEditingId(id);\n// //     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n// //   };\n\n// //   const updateEditField = (id, field, value) => {\n// //     setEditForms(prev => ({\n// //       ...prev,\n// //       [id]: { ...prev[id], [field]: value }\n// //     }));\n// //   };\n\n// //   const saveEdit = async (updateFn, id) => {\n// //     try {\n// //       await updateFn(id, editForms[id]);\n// //       setEditingId(null);\n// //       setEditForms({});\n// //       loadData();\n// //     } catch (err) {\n// //       setError('Update failed');\n// //     }\n// //   };\n\n// //   const cancelEdit = () => {\n// //     setEditingId(null);\n// //     setEditForms({});\n// //   };\n\n// //   const openCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n// //     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n// //   };\n\n// //   const closeCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n// //     setCreateForms(prev => { const newForms = { ...prev }; delete newForms[entity]; return newForms; });\n// //   };\n\n// //   const updateCreateField = (entity, field, value) => {\n// //     setCreateForms(prev => ({\n// //       ...prev,\n// //       [entity]: { ...prev[entity], [field]: value }\n// //     }));\n// //   };\n\n// //   const handleCreate = async (createFn, entity) => {\n// //     try {\n// //       await createFn(createForms[entity]);\n// //       closeCreateModal(entity);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to create ${entity}`);\n// //     }\n// //   };\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ STUDENTS TABLE WITH CRUD\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Students</h3>\n// //         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Student\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr><td colSpan={5}>No students found</td></tr>\n// //           )}\n// //           {students.map((s) => {\n// //             const isEditing = editingId === s.id;\n// //             const formData = editForms[s.id] || {};\n// //             return (\n// //               <tr key={s.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || s.first_name}\n// //                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || s.class_name || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.roll_number || s.roll_number || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : s.roll_number || 'N/A'}\n// //                 </td>\n// //                 <td>{s.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button \n// //                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n// //                         className=\"btn btn-success btn-sm\"\n// //                       >\n// //                         üíæ Save\n// //                       </button>\n// //                       <button \n// //                         onClick={cancelEdit}\n// //                         className=\"btn btn-secondary btn-sm\"\n// //                       >\n// //                         ‚ùå Cancel\n// //                       </button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button \n// //                         onClick={() => startEdit(s, s.id)}\n// //                         className=\"btn btn-warning btn-sm\"\n// //                       >\n// //                         ‚úèÔ∏è Edit\n// //                       </button>\n// //                       <button \n// //                         onClick={() => handleDelete(adminAPI.deleteStudent, s.id, 'student')}\n// //                         className=\"btn btn-danger btn-sm\"\n// //                       >\n// //                         üóëÔ∏è Delete\n// //                       </button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ TEACHERS TABLE WITH CRUD\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Teachers</h3>\n// //         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Teacher\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr><td colSpan={5}>No teachers found</td></tr>\n// //           )}\n// //           {teachers.map((t) => {\n// //             const isEditing = editingId === t.id;\n// //             const formData = editForms[t.id] || {};\n// //             return (\n// //               <tr key={t.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || t.first_name}\n// //                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.department || t.department || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.department || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || t.phone || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{t.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ PARENTS TABLE WITH CRUD\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Parents</h3>\n// //         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Parent\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr><td colSpan={5}>No parents found</td></tr>\n// //           )}\n// //           {parents.map((p) => {\n// //             const isEditing = editingId === p.id;\n// //             const formData = editForms[p.id] || {};\n// //             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n// //             return (\n// //               <tr key={p.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || p.first_name}\n// //                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>{childrenNames}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || p.phone || ''}\n// //                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : p.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{p.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CLASSES TABLE WITH CRUD\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Classes</h3>\n// //         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Class\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr><td colSpan={5}>No classes found</td></tr>\n// //           )}\n// //           {classes.map((c) => {\n// //             const isEditing = editingId === c.id;\n// //             const formData = editForms[c.id] || {};\n// //             return (\n// //               <tr key={c.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || c.class_name || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.class_name || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.section || c.section || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.section || 'N/A'}\n// //                 </td>\n// //                 <td>{c.teacher_name || 'Unassigned'}</td>\n// //                 <td>{c.student_count || 0}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CREATE MODALS (Simple forms)\n// //   const renderCreateModal = () => {\n// //     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n// //     if (!entity) return null;\n\n// //     const formData = createForms[entity] || {};\n// //     const fields = {\n// //       students: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n// //         { key: 'class_id', label: 'Class ID', type: 'number' }\n// //       ],\n// //       teachers: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'department', label: 'Department', type: 'text' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       parents: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       classes: [\n// //         { key: 'class_name', label: 'Class Name', type: 'text' },\n// //         { key: 'section', label: 'Section', type: 'text' },\n// //         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n// //       ]\n// //     };\n\n// //     const createFn = {\n// //       students: adminAPI.createStudent,\n// //       teachers: adminAPI.createTeacher,\n// //       parents: adminAPI.createParent,\n// //       classes: adminAPI.createClass\n// //     }[entity];\n\n// //     return (\n// //       <div className=\"modal-overlay\">\n// //         <div className=\"modal\">\n// //           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n// //           <div className=\"modal-form\">\n// //             {fields[entity].map(field => (\n// //               <div key={field.key} className=\"form-group\">\n// //                 <label>{field.label}</label>\n// //                 <input\n// //                   type={field.type}\n// //                   value={formData[field.key] || ''}\n// //                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n// //                   className=\"form-input\"\n// //                 />\n// //               </div>\n// //             ))}\n// //           </div>\n// //           <div className=\"modal-actions\">\n// //             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n// //               Create\n// //             </button>\n// //             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n// //               Cancel\n// //             </button>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   };\n\n// //   if (loading) {\n// //     return (\n// //       <div className=\"dashboard-container\">\n// //         <div className=\"dashboard-header\">\n// //           <h2>Admin Dashboard</h2>\n// //         </div>\n// //         <div className=\"skeleton-loader\">\n// //           <div className=\"admin-overview-grid\">\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n// //           Overview\n// //         </button>\n// //         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n// //           Students\n// //         </button>\n// //         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n// //           Teachers\n// //         </button>\n// //         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n// //           Parents\n// //         </button>\n// //         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //         {renderCreateModal()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ \n//     students: false, \n//     teachers: false, \n//     parents: false, \n//     classes: false \n//   });\n//   const [createForms, setCreateForms] = useState({});\n\n//   // ‚úÖ CONFIRMATION MODAL STATE (FIXES ESLint ERROR)\n//   const [confirmDialog, setConfirmDialog] = useState({\n//     show: false,\n//     title: '',\n//     message: '',\n//     onConfirm: null,\n//     entityName: ''\n//   });\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS (REPLACED confirm() WITH CUSTOM MODAL)\n//   const showConfirm = (title, message, onConfirm, entityName) => {\n//     setConfirmDialog({\n//       show: true,\n//       title,\n//       message,\n//       onConfirm,\n//       entityName\n//     });\n//   };\n\n//   const handleConfirmDelete = async (deleteFn, id, entityName) => {\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     } finally {\n//       setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' });\n//     }\n//   };\n\n//   const confirmDelete = (deleteFn, id, entityName) => {\n//     showConfirm(\n//       'Confirm Delete',\n//       `Are you sure you want to delete this ${entityName}? This action cannot be undone.`,\n//       () => handleConfirmDelete(deleteFn, id, entityName),\n//       entityName\n//     );\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { \n//       const newForms = { ...prev }; \n//       delete newForms[entity]; \n//       return newForms; \n//     });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || s.first_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => confirmDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || t.first_name || ''}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || p.first_name || ''}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       // teachers: [\n//       //   { key: 'first_name', label: 'First Name', type: 'text' },\n//       //   { key: 'last_name', label: 'Last Name', type: 'text' },\n//       //   { key: 'email', label: 'Email', type: 'email' },\n//       //   { key: 'department', label: 'Department', type: 'text' },\n//       //   { key: 'phone', label: 'Phone', type: 'tel' }\n//       // ],\n//       teachers: [\n//      { key: 'first_name', label: 'First Name', type: 'text' },\n//      { key: 'last_name', label: 'Last Name', type: 'text' },\n//      { key: 'email', label: 'Email', type: 'email' },\n//      { key: 'department', label: 'Department', type: 'text' },\n//      { key: 'phone', label: 'Phone', type: 'tel' },\n\n//   // ‚úÖ Added fields\n//      { key: 'qualification', label: 'Qualification', type: 'text' },\n//      { key: 'hire_date', label: 'Hire Date', type: 'date' }\n//      ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   // ‚úÖ CONFIRM DELETE MODAL (FIXES ESLint)\n//   const renderConfirmDialog = () => {\n//     if (!confirmDialog.show) return null;\n    \n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal confirm-modal\">\n//           <h3>{confirmDialog.title}</h3>\n//           <p>{confirmDialog.message}</p>\n//           <div className=\"modal-actions\">\n//             <button \n//               onClick={confirmDialog.onConfirm} \n//               className=\"btn btn-danger\"\n//             >\n//               ‚úÖ Yes, Delete\n//             </button>\n//             <button \n//               onClick={() => setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' })}\n//               className=\"btn btn-secondary\"\n//             >\n//               ‚ùå Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//         {renderConfirmDialog()} {/* ‚úÖ ADDED CONFIRM MODAL */}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\nimport React, { useEffect, useState } from \"react\";\nimport { adminAPI } from \"../api\";\nimport \"./AdminDashboard.css\";\n\nfunction AdminDashboard({ user, onLogout }) {\n  const [stats, setStats] = useState({\n    totalStudents: 0,\n    totalTeachers: 0,\n    totalParents: 0,\n    totalClasses: 0,\n  });\n\n  const [students, setStudents] = useState([]);\n  const [teachers, setTeachers] = useState([]);\n  const [parents, setParents] = useState([]);\n  const [classes, setClasses] = useState([]);\n\n  const [loading, setLoading] = useState(true);\n  const [tab, setTab] = useState(\"overview\");\n  const [error, setError] = useState(\"\");\n\n  const [editingId, setEditingId] = useState(null);\n  const [editForms, setEditForms] = useState({});\n  const [showCreateModal, setShowCreateModal] = useState(null);\n  const [createForm, setCreateForm] = useState({});\n\n  const [confirmDialog, setConfirmDialog] = useState({\n    show: false,\n    onConfirm: null,\n  });\n\n  // ================= LOAD DATA =================\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      setError(\"\");\n\n      const [studentsRes, teachersRes, parentsRes, classesRes] =\n        await Promise.all([\n          adminAPI.getStudents(),\n          adminAPI.getTeachers(),\n          adminAPI.getParents(),\n          adminAPI.getClasses(),\n        ]);\n\n      const s = studentsRes.data || [];\n      const t = teachersRes.data || [];\n      const p = parentsRes.data || [];\n      const c = classesRes.data || [];\n\n      setStudents(s);\n      setTeachers(t);\n      setParents(p);\n      setClasses(c);\n\n      setStats({\n        totalStudents: s.length,\n        totalTeachers: t.length,\n        totalParents: p.length,\n        totalClasses: c.length,\n      });\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load admin data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // ================= CRUD =================\n  const startEdit = (entity) => {\n    setEditingId(entity.id);\n    setEditForms({ ...entity });\n  };\n\n  const saveEdit = async (updateFn) => {\n    try {\n      await updateFn(editingId, editForms);\n      setEditingId(null);\n      setEditForms({});\n      loadData();\n    } catch {\n      setError(\"Update failed\");\n    }\n  };\n\n  const confirmDelete = (deleteFn, id) => {\n    setConfirmDialog({\n      show: true,\n      onConfirm: async () => {\n        await deleteFn(id);\n        setConfirmDialog({ show: false });\n        loadData();\n      },\n    });\n  };\n\n  const handleCreate = async (createFn) => {\n    try {\n      await createFn(createForm);\n      setShowCreateModal(null);\n      setCreateForm({});\n      loadData();\n    } catch {\n      setError(\"Create failed\");\n    }\n  };\n\n  // ================= TABLE RENDER =================\n  const renderTable = (data, type) => {\n    const config = {\n      students: {\n        title: \"Students\",\n        create: adminAPI.createStudent,\n        update: adminAPI.updateStudent,\n        delete: adminAPI.deleteStudent,\n        columns: [\"first_name\", \"last_name\", \"email\"],\n      },\n      teachers: {\n        title: \"Teachers\",\n        create: adminAPI.createTeacher,\n        update: adminAPI.updateTeacher,\n        delete: adminAPI.deleteTeacher,\n        columns: [\"first_name\", \"department\", \"email\"],\n      },\n      parents: {\n        title: \"Parents\",\n        create: adminAPI.createParent,\n        update: adminAPI.updateParent,\n        delete: adminAPI.deleteParent,\n        columns: [\"first_name\", \"phone\", \"email\"],\n      },\n      classes: {\n        title: \"Classes\",\n        create: adminAPI.createClass,\n        update: adminAPI.updateClass,\n        delete: adminAPI.deleteClass,\n        columns: [\"class_name\", \"section\"],\n      },\n    }[type];\n\n    return (\n      <div className=\"table-wrapper\">\n        <div className=\"table-header\">\n          <h3>{config.title}</h3>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => setShowCreateModal(type)}\n          >\n            ‚ûï Add New\n          </button>\n        </div>\n\n        <table className=\"data-table\">\n          <thead>\n            <tr>\n              {config.columns.map((col) => (\n                <th key={col}>{col}</th>\n              ))}\n              <th>Actions</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {data.map((item) => (\n              <tr key={item.id}>\n                {config.columns.map((col) => (\n                  <td key={col}>\n                    {editingId === item.id ? (\n                      <input\n                        value={editForms[col] || \"\"}\n                        onChange={(e) =>\n                          setEditForms({\n                            ...editForms,\n                            [col]: e.target.value,\n                          })\n                        }\n                      />\n                    ) : (\n                      item[col] || \"N/A\"\n                    )}\n                  </td>\n                ))}\n\n                <td>\n                  {editingId === item.id ? (\n                    <>\n                      <button\n                        className=\"btn btn-success btn-sm\"\n                        onClick={() => saveEdit(config.update)}\n                      >\n                        Save\n                      </button>\n                      <button\n                        className=\"btn btn-secondary btn-sm\"\n                        onClick={() => setEditingId(null)}\n                      >\n                        Cancel\n                      </button>\n                    </>\n                  ) : (\n                    <>\n                      <button\n                        className=\"btn btn-warning btn-sm\"\n                        onClick={() => startEdit(item)}\n                      >\n                        Edit\n                      </button>\n                      <button\n                        className=\"btn btn-danger btn-sm\"\n                        onClick={() =>\n                          confirmDelete(config.delete, item.id)\n                        }\n                      >\n                        Delete\n                      </button>\n                    </>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  };\n\n  // ================= UI =================\n  if (loading) return <div className=\"dashboard-container\">Loading...</div>;\n\n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dashboard-header\">\n        <h2>Admin Dashboard</h2>\n        <div>\n          <span>{user?.email}</span>\n          <button onClick={onLogout} className=\"btn btn-secondary\">\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {error && <div className=\"error-banner\">{error}</div>}\n\n      <div className=\"dashboard-tabs\">\n        {[\"overview\", \"students\", \"teachers\", \"parents\", \"classes\"].map(\n          (t) => (\n            <button\n              key={t}\n              className={tab === t ? \"tab active\" : \"tab\"}\n              onClick={() => setTab(t)}\n            >\n              {t}\n            </button>\n          )\n        )}\n      </div>\n\n      <div className=\"dashboard-content\">\n        {tab === \"overview\" && (\n          <div className=\"admin-overview-grid\">\n            <div>Total Students: {stats.totalStudents}</div>\n            <div>Total Teachers: {stats.totalTeachers}</div>\n            <div>Total Parents: {stats.totalParents}</div>\n            <div>Total Classes: {stats.totalClasses}</div>\n          </div>\n        )}\n\n        {tab === \"students\" && renderTable(students, \"students\")}\n        {tab === \"teachers\" && renderTable(teachers, \"teachers\")}\n        {tab === \"parents\" && renderTable(parents, \"parents\")}\n        {tab === \"classes\" && renderTable(classes, \"classes\")}\n      </div>\n\n      {confirmDialog.show && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <p>Are you sure?</p>\n            <button\n              className=\"btn btn-danger\"\n              onClick={confirmDialog.onConfirm}\n            >\n              Yes\n            </button>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => setConfirmDialog({ show: false })}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminDashboard;"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}