{"ast":null,"code":"var _jsxFileName = \"/Users/jeyamurugan/Downloads/student/frontend/src/components/CGPACalculator.js\",\n  _s = $RefreshSig$();\n// // frontend/src/components/CGPACalculator.js\n// import React, { useState, useEffect } from \"react\";\n// import { cgpaAPI } from \"../api\";\n// import {\n//   ResponsiveContainer,\n//   BarChart,\n//   Bar,\n//   XAxis,\n//   YAxis,\n//   Tooltip,\n//   CartesianGrid,\n// } from \"recharts\";\n// import \"./CGPACalculator.css\";\n\n// const GRADE_POINTS = {\n//   'O': 10, 'A+': 9, 'A': 8, 'B+': 7, 'B': 6, 'C': 5, 'P': 4, 'F': 0\n// };\n\n// function CGPACalculator({ className = \"\" }) {\n//   const [studentId, setStudentId] = useState(\"\");\n//   const [subjects, setSubjects] = useState([]);\n//   const [currentSubject, setCurrentSubject] = useState({ code: \"\", grade: \"\", credits: \"\" });\n//   const [result, setResult] = useState(null);\n//   const [loading, setLoading] = useState(false);\n//   const [activeTab, setActiveTab] = useState(\"input\");\n\n//   useEffect(() => {\n//     const saved = localStorage.getItem(\"cgpaResult\");\n//     if (saved) {\n//       const parsed = JSON.parse(saved);\n//       setResult(parsed);\n//       if (parsed.subjects) {\n//         setSubjects(parsed.subjects || []);\n//       }\n//     }\n//   }, []);\n\n//   const addSubject = () => {\n//     if (!currentSubject.code || !currentSubject.grade || !currentSubject.credits) return;\n\n//     const gradePoint = GRADE_POINTS[currentSubject.grade.toUpperCase()] || 0;\n//     const newSubject = { \n//       ...currentSubject, \n//       gradePoint,\n//       sgpa: (gradePoint * parseFloat(currentSubject.credits)).toFixed(2)\n//     };\n\n//     setSubjects([...subjects, newSubject]);\n//     setCurrentSubject({ code: \"\", grade: \"\", credits: \"\" });\n//   };\n\n//   const removeSubject = (index) => {\n//     setSubjects(subjects.filter((_, i) => i !== index));\n//   };\n\n//   const calculateLocal = () => {\n//     if (subjects.length === 0) return;\n\n//     const totalGradePoints = subjects.reduce((sum, s) => sum + (s.gradePoint * parseFloat(s.credits)), 0);\n//     const totalCredits = subjects.reduce((sum, s) => sum + parseFloat(s.credits), 0);\n//     const sgpa = (totalGradePoints / totalCredits).toFixed(2);\n\n//     return {\n//       current_gpa: sgpa,\n//       cgpa: sgpa, // For single semester\n//       total_credits: totalCredits,\n//       subjects\n//     };\n//   };\n\n//   const handleSubmit = async () => {\n//     if (subjects.length === 0) return;\n\n//     setLoading(true);\n//     try {\n//       const payload = {\n//         student_id: parseInt(studentId) || 1,\n//         marks: subjects.reduce((acc, s) => {\n//           acc[s.code] = s.grade;\n//           return acc;\n//         }, {})\n//       };\n\n//       const res = await cgpaAPI.calculate(payload);\n//       const finalResult = { ...res.data, subjects };\n//       setResult(finalResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(finalResult));\n//     } catch (err) {\n//       // Fallback to local calculation\n//       const localResult = calculateLocal();\n//       setResult(localResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(localResult));\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const chartData = subjects.map((s, i) => ({\n//     subject: s.code.substring(0, 8),\n//     grade: s.gradePoint,\n//     credits: parseFloat(s.credits)\n//   }));\n\n//   return (\n//     <div className={`cgpa-calculator ${className}`}>\n//       <div className=\"cgpa-header\">\n//         <h2>üßÆ CGPA Calculator</h2>\n//         <p>Track your academic performance with real-time calculations</p>\n//       </div>\n\n//       <div className=\"cgpa-tabs\">\n//         <button \n//           className={`tab ${activeTab === \"input\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"input\")}\n//         >\n//           üìù Input Grades\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"results\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"results\")}\n//         >\n//           üìä Results & Charts\n//         </button>\n//       </div>\n\n//       <div className=\"cgpa-content\">\n//         {activeTab === \"input\" && (\n//           <div className=\"input-section\">\n//             <div className=\"student-id-section\">\n//               <label>Student ID</label>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Enter Student ID\"\n//                 value={studentId}\n//                 onChange={(e) => setStudentId(e.target.value)}\n//                 className=\"cyber-input\"\n//               />\n//             </div>\n\n//             <div className=\"add-subject-form\">\n//               <div className=\"input-group\">\n//                 <input\n//                   placeholder=\"Subject Code (e.g., CS101)\"\n//                   value={currentSubject.code}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, code: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//                 <select\n//                   value={currentSubject.grade}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, grade: e.target.value})}\n//                   className=\"cyber-select\"\n//                 >\n//                   <option value=\"\">Select Grade</option>\n//                   <option value=\"O\">O (10)</option>\n//                   <option value=\"A+\">A+ (9)</option>\n//                   <option value=\"A\">A (8)</option>\n//                   <option value=\"B+\">B+ (7)</option>\n//                   <option value=\"B\">B (6)</option>\n//                   <option value=\"C\">C (5)</option>\n//                   <option value=\"P\">P (4)</option>\n//                   <option value=\"F\">F (0)</option>\n//                 </select>\n//                 <input\n//                   type=\"number\"\n//                   step=\"0.5\"\n//                   placeholder=\"Credits (e.g., 4)\"\n//                   value={currentSubject.credits}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, credits: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//               </div>\n//               <button onClick={addSubject} className=\"add-btn\">\n//                 ‚ûï Add Subject\n//               </button>\n//             </div>\n\n//             <div className=\"subjects-list\">\n//               {subjects.map((subject, index) => (\n//                 <div key={index} className=\"subject-item\">\n//                   <div className=\"subject-info\">\n//                     <span className=\"subject-code\">{subject.code}</span>\n//                     <span className={`grade-badge ${subject.grade}`}>{subject.grade}</span>\n//                     <span className=\"credits\">{subject.credits}cr</span>\n//                   </div>\n//                   <button \n//                     onClick={() => removeSubject(index)}\n//                     className=\"remove-btn\"\n//                   >\n//                     üóëÔ∏è\n//                   </button>\n//                 </div>\n//               ))}\n//               {subjects.length === 0 && (\n//                 <div className=\"empty-state\">\n//                   <p>No subjects added yet. Add your first subject! üéØ</p>\n//                 </div>\n//               )}\n//             </div>\n\n//             <button \n//               onClick={handleSubmit} \n//               disabled={subjects.length === 0 || loading}\n//               className=\"calculate-btn\"\n//             >\n//               {loading ? \"üîÑ Calculating...\" : `üöÄ Calculate CGPA (${subjects.length} subjects)`}\n//             </button>\n//           </div>\n//         )}\n\n//         {activeTab === \"results\" && (\n//           <div className=\"results-section\">\n//             {result ? (\n//               <>\n//                 <div className=\"results-grid\">\n//                   <div className=\"result-card primary\">\n//                     <div className=\"result-label\">Current SGPA</div>\n//                     <div className=\"result-value\">{result.current_gpa || 0}</div>\n//                     <div className=\"result-grade\">\n//                       {result.current_gpa >= 9 ? \"üëë Outstanding\" : \n//                        result.current_gpa >= 8 ? \"ü•á Excellent\" :\n//                        result.current_gpa >= 7 ? \"ü•à Very Good\" :\n//                        result.current_gpa >= 6 ? \"üëç Good\" : \"üìà Keep Going\"}\n//                     </div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Total Credits</div>\n//                     <div className=\"result-value\">{result.total_credits || 0}</div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Subjects</div>\n//                     <div className=\"result-value\">{subjects.length}</div>\n//                   </div>\n//                 </div>\n\n//                 <div className=\"chart-container\">\n//                   <h4>Grade Distribution</h4>\n//                   <ResponsiveContainer width=\"100%\" height={400}>\n//                     <BarChart data={chartData}>\n//                       <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(255,255,255,0.1)\" />\n//                       <XAxis dataKey=\"subject\" stroke=\"#a78bfa\" />\n//                       <YAxis stroke=\"#a78bfa\" />\n//                       <Tooltip />\n//                       <Bar dataKey=\"grade\" fill=\"url(#gradeGradient)\" />\n//                     </BarChart>\n//                   </ResponsiveContainer>\n//                 </div>\n//               </>\n//             ) : (\n//               <div className=\"empty-results\">\n//                 <div className=\"empty-icon\">üìä</div>\n//                 <h3>No Results Yet</h3>\n//                 <p>Add subjects and calculate to see your CGPA analysis</p>\n//               </div>\n//             )}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default CGPACalculator;\n\n// frontend/src/components/CGPACalculator.js\nimport React, { useState, useEffect } from \"react\";\nimport { cgpaAPI } from \"../api\"; // Your Flask API\nimport \"./CGPACalculator.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CGPACalculator({\n  isTeacher = false,\n  className = \"\"\n}) {\n  _s();\n  const [studentId, setStudentId] = useState(\"\");\n  const [semester, setSemester] = useState(\"2024-S1\");\n  const [marks, setMarks] = useState({});\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [subjects, setSubjects] = useState([]);\n\n  // GRADE POINTS DISPLAY\n  const GRADE_DISPLAY = {\n    'O': 'Outstanding (10)',\n    'A+': 'Excellent (9)',\n    'A': 'Very Good (8)',\n    'B+': 'Good (7)',\n    'B': 'Average (6)',\n    'C': 'Pass (5)',\n    'F': 'Fail (0)',\n    'SA': 'Shortage (0)',\n    'W': 'Withdrawal (0)'\n  };\n  useEffect(() => {\n    // Load saved data\n    const saved = localStorage.getItem(`cgpa_${studentId}_${semester}`);\n    if (saved) {\n      const parsed = JSON.parse(saved);\n      setResult(parsed);\n      setMarks(parsed.marks || {});\n    }\n  }, [studentId, semester]);\n  const addMark = (subjectCode, grade) => {\n    if (!subjectCode || !grade) return;\n    setMarks(prev => ({\n      ...prev,\n      [subjectCode.toUpperCase()]: grade.toUpperCase()\n    }));\n  };\n  const removeMark = subjectCode => {\n    setMarks(prev => {\n      const newMarks = {\n        ...prev\n      };\n      delete newMarks[subjectCode];\n      return newMarks;\n    });\n  };\n  const handleCalculate = async () => {\n    if (Object.keys(marks).length === 0) {\n      alert(\"Add at least one subject!\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const payload = {\n        student_id: parseInt(studentId),\n        marks: marks\n      };\n      const response = await cgpaAPI.calculateStudentCGPA(payload);\n      if (response.data.error) {\n        alert(response.data.error);\n        return;\n      }\n      const fullResult = {\n        ...response.data,\n        marks,\n        semester\n      };\n      setResult(fullResult);\n\n      // Save locally\n      localStorage.setItem(`cgpa_${studentId}_${semester}`, JSON.stringify(fullResult));\n    } catch (error) {\n      console.error(\"CGPA Error:\", error);\n      alert(\"Failed to calculate CGPA. Check console.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const clearAll = () => {\n    setMarks({});\n    setResult(null);\n    localStorage.removeItem(`cgpa_${studentId}_${semester}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `cgpa-calculator ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cgpa-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83E\\uDDEE CGPA Calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Student ID\",\n          value: studentId,\n          onChange: e => setStudentId(e.target.value),\n          className: \"student-id-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: semester,\n          onChange: e => setSemester(e.target.value),\n          className: \"semester-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"2024-S1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"2024-S2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"2025-S1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"marks-input-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-pair\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Subject Code (e.g., HS3152)\",\n          onBlur: e => {\n            if (e.target.value && !marks[e.target.value.toUpperCase()]) {\n              addMark(e.target.value, 'A'); // Default A\n            }\n          },\n          className: \"subject-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => {\n            const subjectInput = document.querySelector('.subject-input');\n            if (subjectInput !== null && subjectInput !== void 0 && subjectInput.value) {\n              addMark(subjectInput.value, e.target.value);\n            }\n          },\n          className: \"grade-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Grade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), Object.entries(GRADE_DISPLAY).map(([grade, display]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: grade,\n            children: display\n          }, grade, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"marks-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCalculate,\n          disabled: loading || !studentId,\n          children: loading ? \"üîÑ Calculating...\" : `üöÄ Calculate CGPA`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearAll,\n          className: \"clear-btn\",\n          children: \"\\uD83D\\uDDD1\\uFE0F Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"marks-list\",\n      children: Object.entries(marks).map(([code, grade]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mark-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mark-code\",\n          children: code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `grade-badge ${grade.toLowerCase().replace('+', 'Plus')}`,\n          children: grade\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeMark(code),\n          className: \"remove-mark\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)]\n      }, code, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD83D\\uDCCA Results for Semester \", semester]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"key-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Current GPA:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: result.current_gpa\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"CGPA:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: result.cgpa\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Semester Credits:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: result.semester_credits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gpa-history\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCC8 GPA History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-grid\",\n          children: result.updated_gpa_list.map((gpa, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S\", idx + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: gpa\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 357,\n    columnNumber: 5\n  }, this);\n}\n_s(CGPACalculator, \"1IryNvop60xUBfVZ0jDhDGP7OeE=\");\n_c = CGPACalculator;\nexport default CGPACalculator;\nvar _c;\n$RefreshReg$(_c, \"CGPACalculator\");","map":{"version":3,"names":["React","useState","useEffect","cgpaAPI","jsxDEV","_jsxDEV","CGPACalculator","isTeacher","className","_s","studentId","setStudentId","semester","setSemester","marks","setMarks","result","setResult","loading","setLoading","subjects","setSubjects","GRADE_DISPLAY","saved","localStorage","getItem","parsed","JSON","parse","addMark","subjectCode","grade","prev","toUpperCase","removeMark","newMarks","handleCalculate","Object","keys","length","alert","payload","student_id","parseInt","response","calculateStudentCGPA","data","error","fullResult","setItem","stringify","console","clearAll","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onBlur","subjectInput","document","querySelector","entries","map","display","onClick","disabled","code","toLowerCase","replace","current_gpa","cgpa","semester_credits","updated_gpa_list","gpa","idx","_c","$RefreshReg$"],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/components/CGPACalculator.js"],"sourcesContent":["// // frontend/src/components/CGPACalculator.js\n// import React, { useState, useEffect } from \"react\";\n// import { cgpaAPI } from \"../api\";\n// import {\n//   ResponsiveContainer,\n//   BarChart,\n//   Bar,\n//   XAxis,\n//   YAxis,\n//   Tooltip,\n//   CartesianGrid,\n// } from \"recharts\";\n// import \"./CGPACalculator.css\";\n\n// const GRADE_POINTS = {\n//   'O': 10, 'A+': 9, 'A': 8, 'B+': 7, 'B': 6, 'C': 5, 'P': 4, 'F': 0\n// };\n\n// function CGPACalculator({ className = \"\" }) {\n//   const [studentId, setStudentId] = useState(\"\");\n//   const [subjects, setSubjects] = useState([]);\n//   const [currentSubject, setCurrentSubject] = useState({ code: \"\", grade: \"\", credits: \"\" });\n//   const [result, setResult] = useState(null);\n//   const [loading, setLoading] = useState(false);\n//   const [activeTab, setActiveTab] = useState(\"input\");\n\n//   useEffect(() => {\n//     const saved = localStorage.getItem(\"cgpaResult\");\n//     if (saved) {\n//       const parsed = JSON.parse(saved);\n//       setResult(parsed);\n//       if (parsed.subjects) {\n//         setSubjects(parsed.subjects || []);\n//       }\n//     }\n//   }, []);\n\n//   const addSubject = () => {\n//     if (!currentSubject.code || !currentSubject.grade || !currentSubject.credits) return;\n    \n//     const gradePoint = GRADE_POINTS[currentSubject.grade.toUpperCase()] || 0;\n//     const newSubject = { \n//       ...currentSubject, \n//       gradePoint,\n//       sgpa: (gradePoint * parseFloat(currentSubject.credits)).toFixed(2)\n//     };\n    \n//     setSubjects([...subjects, newSubject]);\n//     setCurrentSubject({ code: \"\", grade: \"\", credits: \"\" });\n//   };\n\n//   const removeSubject = (index) => {\n//     setSubjects(subjects.filter((_, i) => i !== index));\n//   };\n\n//   const calculateLocal = () => {\n//     if (subjects.length === 0) return;\n    \n//     const totalGradePoints = subjects.reduce((sum, s) => sum + (s.gradePoint * parseFloat(s.credits)), 0);\n//     const totalCredits = subjects.reduce((sum, s) => sum + parseFloat(s.credits), 0);\n//     const sgpa = (totalGradePoints / totalCredits).toFixed(2);\n    \n//     return {\n//       current_gpa: sgpa,\n//       cgpa: sgpa, // For single semester\n//       total_credits: totalCredits,\n//       subjects\n//     };\n//   };\n\n//   const handleSubmit = async () => {\n//     if (subjects.length === 0) return;\n    \n//     setLoading(true);\n//     try {\n//       const payload = {\n//         student_id: parseInt(studentId) || 1,\n//         marks: subjects.reduce((acc, s) => {\n//           acc[s.code] = s.grade;\n//           return acc;\n//         }, {})\n//       };\n      \n//       const res = await cgpaAPI.calculate(payload);\n//       const finalResult = { ...res.data, subjects };\n//       setResult(finalResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(finalResult));\n//     } catch (err) {\n//       // Fallback to local calculation\n//       const localResult = calculateLocal();\n//       setResult(localResult);\n//       localStorage.setItem(\"cgpaResult\", JSON.stringify(localResult));\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const chartData = subjects.map((s, i) => ({\n//     subject: s.code.substring(0, 8),\n//     grade: s.gradePoint,\n//     credits: parseFloat(s.credits)\n//   }));\n\n//   return (\n//     <div className={`cgpa-calculator ${className}`}>\n//       <div className=\"cgpa-header\">\n//         <h2>üßÆ CGPA Calculator</h2>\n//         <p>Track your academic performance with real-time calculations</p>\n//       </div>\n\n//       <div className=\"cgpa-tabs\">\n//         <button \n//           className={`tab ${activeTab === \"input\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"input\")}\n//         >\n//           üìù Input Grades\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"results\" ? \"active\" : \"\"}`}\n//           onClick={() => setActiveTab(\"results\")}\n//         >\n//           üìä Results & Charts\n//         </button>\n//       </div>\n\n//       <div className=\"cgpa-content\">\n//         {activeTab === \"input\" && (\n//           <div className=\"input-section\">\n//             <div className=\"student-id-section\">\n//               <label>Student ID</label>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Enter Student ID\"\n//                 value={studentId}\n//                 onChange={(e) => setStudentId(e.target.value)}\n//                 className=\"cyber-input\"\n//               />\n//             </div>\n\n//             <div className=\"add-subject-form\">\n//               <div className=\"input-group\">\n//                 <input\n//                   placeholder=\"Subject Code (e.g., CS101)\"\n//                   value={currentSubject.code}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, code: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//                 <select\n//                   value={currentSubject.grade}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, grade: e.target.value})}\n//                   className=\"cyber-select\"\n//                 >\n//                   <option value=\"\">Select Grade</option>\n//                   <option value=\"O\">O (10)</option>\n//                   <option value=\"A+\">A+ (9)</option>\n//                   <option value=\"A\">A (8)</option>\n//                   <option value=\"B+\">B+ (7)</option>\n//                   <option value=\"B\">B (6)</option>\n//                   <option value=\"C\">C (5)</option>\n//                   <option value=\"P\">P (4)</option>\n//                   <option value=\"F\">F (0)</option>\n//                 </select>\n//                 <input\n//                   type=\"number\"\n//                   step=\"0.5\"\n//                   placeholder=\"Credits (e.g., 4)\"\n//                   value={currentSubject.credits}\n//                   onChange={(e) => setCurrentSubject({...currentSubject, credits: e.target.value})}\n//                   className=\"cyber-input\"\n//                 />\n//               </div>\n//               <button onClick={addSubject} className=\"add-btn\">\n//                 ‚ûï Add Subject\n//               </button>\n//             </div>\n\n//             <div className=\"subjects-list\">\n//               {subjects.map((subject, index) => (\n//                 <div key={index} className=\"subject-item\">\n//                   <div className=\"subject-info\">\n//                     <span className=\"subject-code\">{subject.code}</span>\n//                     <span className={`grade-badge ${subject.grade}`}>{subject.grade}</span>\n//                     <span className=\"credits\">{subject.credits}cr</span>\n//                   </div>\n//                   <button \n//                     onClick={() => removeSubject(index)}\n//                     className=\"remove-btn\"\n//                   >\n//                     üóëÔ∏è\n//                   </button>\n//                 </div>\n//               ))}\n//               {subjects.length === 0 && (\n//                 <div className=\"empty-state\">\n//                   <p>No subjects added yet. Add your first subject! üéØ</p>\n//                 </div>\n//               )}\n//             </div>\n\n//             <button \n//               onClick={handleSubmit} \n//               disabled={subjects.length === 0 || loading}\n//               className=\"calculate-btn\"\n//             >\n//               {loading ? \"üîÑ Calculating...\" : `üöÄ Calculate CGPA (${subjects.length} subjects)`}\n//             </button>\n//           </div>\n//         )}\n\n//         {activeTab === \"results\" && (\n//           <div className=\"results-section\">\n//             {result ? (\n//               <>\n//                 <div className=\"results-grid\">\n//                   <div className=\"result-card primary\">\n//                     <div className=\"result-label\">Current SGPA</div>\n//                     <div className=\"result-value\">{result.current_gpa || 0}</div>\n//                     <div className=\"result-grade\">\n//                       {result.current_gpa >= 9 ? \"üëë Outstanding\" : \n//                        result.current_gpa >= 8 ? \"ü•á Excellent\" :\n//                        result.current_gpa >= 7 ? \"ü•à Very Good\" :\n//                        result.current_gpa >= 6 ? \"üëç Good\" : \"üìà Keep Going\"}\n//                     </div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Total Credits</div>\n//                     <div className=\"result-value\">{result.total_credits || 0}</div>\n//                   </div>\n//                   <div className=\"result-card secondary\">\n//                     <div className=\"result-label\">Subjects</div>\n//                     <div className=\"result-value\">{subjects.length}</div>\n//                   </div>\n//                 </div>\n\n//                 <div className=\"chart-container\">\n//                   <h4>Grade Distribution</h4>\n//                   <ResponsiveContainer width=\"100%\" height={400}>\n//                     <BarChart data={chartData}>\n//                       <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(255,255,255,0.1)\" />\n//                       <XAxis dataKey=\"subject\" stroke=\"#a78bfa\" />\n//                       <YAxis stroke=\"#a78bfa\" />\n//                       <Tooltip />\n//                       <Bar dataKey=\"grade\" fill=\"url(#gradeGradient)\" />\n//                     </BarChart>\n//                   </ResponsiveContainer>\n//                 </div>\n//               </>\n//             ) : (\n//               <div className=\"empty-results\">\n//                 <div className=\"empty-icon\">üìä</div>\n//                 <h3>No Results Yet</h3>\n//                 <p>Add subjects and calculate to see your CGPA analysis</p>\n//               </div>\n//             )}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default CGPACalculator;\n\n// frontend/src/components/CGPACalculator.js\nimport React, { useState, useEffect } from \"react\";\nimport { cgpaAPI } from \"../api\"; // Your Flask API\nimport \"./CGPACalculator.css\";\n\nfunction CGPACalculator({ isTeacher = false, className = \"\" }) {\n  const [studentId, setStudentId] = useState(\"\");\n  const [semester, setSemester] = useState(\"2024-S1\");\n  const [marks, setMarks] = useState({});\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [subjects, setSubjects] = useState([]);\n\n  // GRADE POINTS DISPLAY\n  const GRADE_DISPLAY = {\n    'O': 'Outstanding (10)', 'A+': 'Excellent (9)', 'A': 'Very Good (8)',\n    'B+': 'Good (7)', 'B': 'Average (6)', 'C': 'Pass (5)',\n    'F': 'Fail (0)', 'SA': 'Shortage (0)', 'W': 'Withdrawal (0)'\n  };\n\n  useEffect(() => {\n    // Load saved data\n    const saved = localStorage.getItem(`cgpa_${studentId}_${semester}`);\n    if (saved) {\n      const parsed = JSON.parse(saved);\n      setResult(parsed);\n      setMarks(parsed.marks || {});\n    }\n  }, [studentId, semester]);\n\n  const addMark = (subjectCode, grade) => {\n    if (!subjectCode || !grade) return;\n    \n    setMarks(prev => ({\n      ...prev,\n      [subjectCode.toUpperCase()]: grade.toUpperCase()\n    }));\n  };\n\n  const removeMark = (subjectCode) => {\n    setMarks(prev => {\n      const newMarks = { ...prev };\n      delete newMarks[subjectCode];\n      return newMarks;\n    });\n  };\n\n  const handleCalculate = async () => {\n    if (Object.keys(marks).length === 0) {\n      alert(\"Add at least one subject!\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const payload = {\n        student_id: parseInt(studentId),\n        marks: marks\n      };\n\n      const response = await cgpaAPI.calculateStudentCGPA(payload);\n      \n      if (response.data.error) {\n        alert(response.data.error);\n        return;\n      }\n\n      const fullResult = {\n        ...response.data,\n        marks,\n        semester\n      };\n\n      setResult(fullResult);\n      \n      // Save locally\n      localStorage.setItem(`cgpa_${studentId}_${semester}`, JSON.stringify(fullResult));\n      \n    } catch (error) {\n      console.error(\"CGPA Error:\", error);\n      alert(\"Failed to calculate CGPA. Check console.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clearAll = () => {\n    setMarks({});\n    setResult(null);\n    localStorage.removeItem(`cgpa_${studentId}_${semester}`);\n  };\n\n  return (\n    <div className={`cgpa-calculator ${className}`}>\n      <div className=\"cgpa-header\">\n        <h2>üßÆ CGPA Calculator</h2>\n        <div className=\"input-row\">\n          <input\n            type=\"number\"\n            placeholder=\"Student ID\"\n            value={studentId}\n            onChange={(e) => setStudentId(e.target.value)}\n            className=\"student-id-input\"\n          />\n          <select \n            value={semester} \n            onChange={(e) => setSemester(e.target.value)}\n            className=\"semester-select\"\n          >\n            <option>2024-S1</option>\n            <option>2024-S2</option>\n            <option>2025-S1</option>\n          </select>\n        </div>\n      </div>\n\n      {/* MARKS INPUT */}\n      <div className=\"marks-input-section\">\n        <div className=\"input-pair\">\n          <input\n            placeholder=\"Subject Code (e.g., HS3152)\"\n            onBlur={(e) => {\n              if (e.target.value && !marks[e.target.value.toUpperCase()]) {\n                addMark(e.target.value, 'A'); // Default A\n              }\n            }}\n            className=\"subject-input\"\n          />\n          <select \n            onChange={(e) => {\n              const subjectInput = document.querySelector('.subject-input');\n              if (subjectInput?.value) {\n                addMark(subjectInput.value, e.target.value);\n              }\n            }}\n            className=\"grade-select\"\n          >\n            <option value=\"\">Grade</option>\n            {Object.entries(GRADE_DISPLAY).map(([grade, display]) => (\n              <option key={grade} value={grade}>{display}</option>\n            ))}\n          </select>\n        </div>\n        \n        <div className=\"marks-actions\">\n          <button onClick={handleCalculate} disabled={loading || !studentId}>\n            {loading ? \"üîÑ Calculating...\" : `üöÄ Calculate CGPA`}\n          </button>\n          <button onClick={clearAll} className=\"clear-btn\">\n            üóëÔ∏è Clear All\n          </button>\n        </div>\n      </div>\n\n      {/* MARKS LIST */}\n      <div className=\"marks-list\">\n        {Object.entries(marks).map(([code, grade]) => (\n          <div key={code} className=\"mark-item\">\n            <span className=\"mark-code\">{code}</span>\n            <span className={`grade-badge ${grade.toLowerCase().replace('+', 'Plus')}`}>{grade}</span>\n            <button \n              onClick={() => removeMark(code)}\n              className=\"remove-mark\"\n            >\n              √ó\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* RESULTS */}\n      {result && (\n        <div className=\"results-card\">\n          <h3>üìä Results for Semester {semester}</h3>\n          <div className=\"key-results\">\n            <div className=\"result-item\">\n              <span>Current GPA:</span>\n              <strong>{result.current_gpa}</strong>\n            </div>\n            <div className=\"result-item\">\n              <span>CGPA:</span>\n              <strong>{result.cgpa}</strong>\n            </div>\n            <div className=\"result-item\">\n              <span>Semester Credits:</span>\n              <strong>{result.semester_credits}</strong>\n            </div>\n          </div>\n          \n          <div className=\"gpa-history\">\n            <h4>üìà GPA History</h4>\n            <div className=\"history-grid\">\n              {result.updated_gpa_list.map((gpa, idx) => (\n                <div key={idx} className=\"history-item\">\n                  <span>S{idx + 1}</span>\n                  <span>{gpa}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CGPACalculator;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}