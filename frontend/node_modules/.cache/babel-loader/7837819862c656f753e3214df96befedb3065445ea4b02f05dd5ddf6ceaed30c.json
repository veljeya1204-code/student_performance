{"ast":null,"code":"var _jsxFileName = \"/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js\",\n  _s = $RefreshSig$();\n// // // frontend/src/dashboards/AdminDashboard.js - COMPLETE FIXED VERSION\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ FIXED: loadData extracted for Refresh button\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] =\n// //         await Promise.all([\n// //           adminAPI.getStudents(),\n// //           adminAPI.getTeachers(),\n// //           adminAPI.getParents(),\n// //           adminAPI.getClasses(),\n// //         ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n// //       console.log(studentsData)\n// //       console.log(teachersData)\n// //       console.log(parentsData)\n// //       console.log(classesData)\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   // ‚úÖ Simplified useEffect\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       {/* ‚úÖ REFRESH BUTTON - Works now! */}\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Students</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No students found</td>\n// //             </tr>\n// //           )}\n// //           {students.map((s) => (\n// //             <tr key={s.id}>\n// //               <td>{`${s.first_name || \"\"} ${s.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {s.class_name}\n// //                 {s.section ? ` - ${s.section}` : \"\"}\n// //               </td>\n// //               <td>{s.roll_number}</td>\n// //               <td>{s.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Teachers</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No teachers found</td>\n// //             </tr>\n// //           )}\n// //           {teachers.map((t) => (\n// //             <tr key={t.id}>\n// //               <td>{`${t.first_name || \"\"} ${t.last_name || \"\"}`.trim()}</td>\n// //               <td>{t.department}</td>\n// //               <td>{t.phone}</td>\n// //               <td>{t.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Parents</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No parents found</td>\n// //             </tr>\n// //           )}\n// //           {parents.map((p) => (\n// //             <tr key={p.id}>\n// //               <td>{`${p.first_name || \"\"} ${p.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {Array.isArray(p.children) && p.children.length > 0\n// //                   ? p.children.map((c) => c.name).join(\", \")\n// //                   : \"‚Äî\"}\n// //               </td>\n// //               <td>{p.phone}</td>\n// //               <td>{p.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Classes</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No classes found</td>\n// //             </tr>\n// //           )}\n// //           {classes.map((c) => (\n// //             <tr key={c.id}>\n// //               <td>{c.class_name}</td>\n// //               <td>{c.section}</td>\n// //               <td>{c.teacher_name || \"Unassigned\"}</td>\n// //               <td>{c.student_count}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // if (loading) {\n// //   //   return (\n// //   //     <div className=\"dashboard-container\">\n// //   //       <div className=\"dashboard-header\">\n// //   //         <h2>Admin Dashboard</h2>\n// //   //       </div>\n// //   //       <p>Loading...</p>\n// //   //     </div>\n// //   //   );\n// //   // }\n// //   if (loading) {\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //       </div>\n// //       <div className=\"skeleton-loader\">\n// //         <div className=\"admin-overview-grid\">\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //         </div>\n// //         <div className=\"skeleton-table\">\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button\n// //           className={tab === \"overview\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"overview\")}\n// //         >\n// //           Overview\n// //         </button>\n// //         <button\n// //           className={tab === \"students\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"students\")}\n// //         >\n// //           Students\n// //         </button>\n// //         <button\n// //           className={tab === \"teachers\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"teachers\")}\n// //         >\n// //           Teachers\n// //         </button>\n// //         <button\n// //           className={tab === \"parents\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"parents\")}\n// //         >\n// //           Parents\n// //         </button>\n// //         <button\n// //           className={tab === \"classes\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"classes\")}\n// //         >\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ CRUD STATES\n// //   const [editingId, setEditingId] = useState(null);\n// //   const [editForms, setEditForms] = useState({});\n// //   const [showCreateModal, setShowCreateModal] = useState({ students: false, teachers: false, parents: false, classes: false });\n// //   const [createForms, setCreateForms] = useState({});\n\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n// //         adminAPI.getStudents(),\n// //         adminAPI.getTeachers(),\n// //         adminAPI.getParents(),\n// //         adminAPI.getClasses(),\n// //       ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   // ‚úÖ SHARED CRUD HANDLERS\n// //   const handleDelete = async (deleteFn, id, entityName) => {\n// //     if (!confirm(`Delete this ${entityName}?`)) return;\n// //     try {\n// //       await deleteFn(id);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to delete ${entityName}`);\n// //     }\n// //   };\n\n// //   const startEdit = (entity, id) => {\n// //     setEditingId(id);\n// //     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n// //   };\n\n// //   const updateEditField = (id, field, value) => {\n// //     setEditForms(prev => ({\n// //       ...prev,\n// //       [id]: { ...prev[id], [field]: value }\n// //     }));\n// //   };\n\n// //   const saveEdit = async (updateFn, id) => {\n// //     try {\n// //       await updateFn(id, editForms[id]);\n// //       setEditingId(null);\n// //       setEditForms({});\n// //       loadData();\n// //     } catch (err) {\n// //       setError('Update failed');\n// //     }\n// //   };\n\n// //   const cancelEdit = () => {\n// //     setEditingId(null);\n// //     setEditForms({});\n// //   };\n\n// //   const openCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n// //     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n// //   };\n\n// //   const closeCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n// //     setCreateForms(prev => { const newForms = { ...prev }; delete newForms[entity]; return newForms; });\n// //   };\n\n// //   const updateCreateField = (entity, field, value) => {\n// //     setCreateForms(prev => ({\n// //       ...prev,\n// //       [entity]: { ...prev[entity], [field]: value }\n// //     }));\n// //   };\n\n// //   const handleCreate = async (createFn, entity) => {\n// //     try {\n// //       await createFn(createForms[entity]);\n// //       closeCreateModal(entity);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to create ${entity}`);\n// //     }\n// //   };\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ STUDENTS TABLE WITH CRUD\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Students</h3>\n// //         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Student\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr><td colSpan={5}>No students found</td></tr>\n// //           )}\n// //           {students.map((s) => {\n// //             const isEditing = editingId === s.id;\n// //             const formData = editForms[s.id] || {};\n// //             return (\n// //               <tr key={s.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || s.first_name}\n// //                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || s.class_name || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.roll_number || s.roll_number || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : s.roll_number || 'N/A'}\n// //                 </td>\n// //                 <td>{s.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button \n// //                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n// //                         className=\"btn btn-success btn-sm\"\n// //                       >\n// //                         üíæ Save\n// //                       </button>\n// //                       <button \n// //                         onClick={cancelEdit}\n// //                         className=\"btn btn-secondary btn-sm\"\n// //                       >\n// //                         ‚ùå Cancel\n// //                       </button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button \n// //                         onClick={() => startEdit(s, s.id)}\n// //                         className=\"btn btn-warning btn-sm\"\n// //                       >\n// //                         ‚úèÔ∏è Edit\n// //                       </button>\n// //                       <button \n// //                         onClick={() => handleDelete(adminAPI.deleteStudent, s.id, 'student')}\n// //                         className=\"btn btn-danger btn-sm\"\n// //                       >\n// //                         üóëÔ∏è Delete\n// //                       </button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ TEACHERS TABLE WITH CRUD\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Teachers</h3>\n// //         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Teacher\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr><td colSpan={5}>No teachers found</td></tr>\n// //           )}\n// //           {teachers.map((t) => {\n// //             const isEditing = editingId === t.id;\n// //             const formData = editForms[t.id] || {};\n// //             return (\n// //               <tr key={t.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || t.first_name}\n// //                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.department || t.department || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.department || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || t.phone || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{t.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ PARENTS TABLE WITH CRUD\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Parents</h3>\n// //         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Parent\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr><td colSpan={5}>No parents found</td></tr>\n// //           )}\n// //           {parents.map((p) => {\n// //             const isEditing = editingId === p.id;\n// //             const formData = editForms[p.id] || {};\n// //             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n// //             return (\n// //               <tr key={p.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || p.first_name}\n// //                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>{childrenNames}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || p.phone || ''}\n// //                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : p.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{p.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CLASSES TABLE WITH CRUD\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Classes</h3>\n// //         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Class\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr><td colSpan={5}>No classes found</td></tr>\n// //           )}\n// //           {classes.map((c) => {\n// //             const isEditing = editingId === c.id;\n// //             const formData = editForms[c.id] || {};\n// //             return (\n// //               <tr key={c.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || c.class_name || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.class_name || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.section || c.section || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.section || 'N/A'}\n// //                 </td>\n// //                 <td>{c.teacher_name || 'Unassigned'}</td>\n// //                 <td>{c.student_count || 0}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CREATE MODALS (Simple forms)\n// //   const renderCreateModal = () => {\n// //     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n// //     if (!entity) return null;\n\n// //     const formData = createForms[entity] || {};\n// //     const fields = {\n// //       students: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n// //         { key: 'class_id', label: 'Class ID', type: 'number' }\n// //       ],\n// //       teachers: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'department', label: 'Department', type: 'text' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       parents: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       classes: [\n// //         { key: 'class_name', label: 'Class Name', type: 'text' },\n// //         { key: 'section', label: 'Section', type: 'text' },\n// //         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n// //       ]\n// //     };\n\n// //     const createFn = {\n// //       students: adminAPI.createStudent,\n// //       teachers: adminAPI.createTeacher,\n// //       parents: adminAPI.createParent,\n// //       classes: adminAPI.createClass\n// //     }[entity];\n\n// //     return (\n// //       <div className=\"modal-overlay\">\n// //         <div className=\"modal\">\n// //           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n// //           <div className=\"modal-form\">\n// //             {fields[entity].map(field => (\n// //               <div key={field.key} className=\"form-group\">\n// //                 <label>{field.label}</label>\n// //                 <input\n// //                   type={field.type}\n// //                   value={formData[field.key] || ''}\n// //                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n// //                   className=\"form-input\"\n// //                 />\n// //               </div>\n// //             ))}\n// //           </div>\n// //           <div className=\"modal-actions\">\n// //             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n// //               Create\n// //             </button>\n// //             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n// //               Cancel\n// //             </button>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   };\n\n// //   if (loading) {\n// //     return (\n// //       <div className=\"dashboard-container\">\n// //         <div className=\"dashboard-header\">\n// //           <h2>Admin Dashboard</h2>\n// //         </div>\n// //         <div className=\"skeleton-loader\">\n// //           <div className=\"admin-overview-grid\">\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n// //           Overview\n// //         </button>\n// //         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n// //           Students\n// //         </button>\n// //         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n// //           Teachers\n// //         </button>\n// //         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n// //           Parents\n// //         </button>\n// //         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //         {renderCreateModal()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ \n//     students: false, \n//     teachers: false, \n//     parents: false, \n//     classes: false \n//   });\n//   const [createForms, setCreateForms] = useState({});\n\n//   // ‚úÖ CONFIRMATION MODAL STATE (FIXES ESLint ERROR)\n//   const [confirmDialog, setConfirmDialog] = useState({\n//     show: false,\n//     title: '',\n//     message: '',\n//     onConfirm: null,\n//     entityName: ''\n//   });\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS (REPLACED confirm() WITH CUSTOM MODAL)\n//   const showConfirm = (title, message, onConfirm, entityName) => {\n//     setConfirmDialog({\n//       show: true,\n//       title,\n//       message,\n//       onConfirm,\n//       entityName\n//     });\n//   };\n\n//   const handleConfirmDelete = async (deleteFn, id, entityName) => {\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     } finally {\n//       setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' });\n//     }\n//   };\n\n//   const confirmDelete = (deleteFn, id, entityName) => {\n//     showConfirm(\n//       'Confirm Delete',\n//       `Are you sure you want to delete this ${entityName}? This action cannot be undone.`,\n//       () => handleConfirmDelete(deleteFn, id, entityName),\n//       entityName\n//     );\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { \n//       const newForms = { ...prev }; \n//       delete newForms[entity]; \n//       return newForms; \n//     });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || s.first_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => confirmDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || t.first_name || ''}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || p.first_name || ''}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       // teachers: [\n//       //   { key: 'first_name', label: 'First Name', type: 'text' },\n//       //   { key: 'last_name', label: 'Last Name', type: 'text' },\n//       //   { key: 'email', label: 'Email', type: 'email' },\n//       //   { key: 'department', label: 'Department', type: 'text' },\n//       //   { key: 'phone', label: 'Phone', type: 'tel' }\n//       // ],\n//       teachers: [\n//      { key: 'first_name', label: 'First Name', type: 'text' },\n//      { key: 'last_name', label: 'Last Name', type: 'text' },\n//      { key: 'email', label: 'Email', type: 'email' },\n//      { key: 'department', label: 'Department', type: 'text' },\n//      { key: 'phone', label: 'Phone', type: 'tel' },\n\n//   // ‚úÖ Added fields\n//      { key: 'qualification', label: 'Qualification', type: 'text' },\n//      { key: 'hire_date', label: 'Hire Date', type: 'date' }\n//      ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   // ‚úÖ CONFIRM DELETE MODAL (FIXES ESLint)\n//   const renderConfirmDialog = () => {\n//     if (!confirmDialog.show) return null;\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal confirm-modal\">\n//           <h3>{confirmDialog.title}</h3>\n//           <p>{confirmDialog.message}</p>\n//           <div className=\"modal-actions\">\n//             <button \n//               onClick={confirmDialog.onConfirm} \n//               className=\"btn btn-danger\"\n//             >\n//               ‚úÖ Yes, Delete\n//             </button>\n//             <button \n//               onClick={() => setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' })}\n//               className=\"btn btn-secondary\"\n//             >\n//               ‚ùå Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//         {renderConfirmDialog()} {/* ‚úÖ ADDED CONFIRM MODAL */}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n// frontend/src/dashboards/StudentDashboard.js\nimport React, { useEffect, useState } from \"react\";\nimport { studentAPI } from \"../api\";\nimport { LineChart, Line, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\nimport CGPACalculator from \"../components/CGPACalculator\"; // üî• NEW IMPORT\nimport \"./StudentDashboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentDashboard({\n  user,\n  onLogout\n}) {\n  _s();\n  var _performance$subject_, _performance$exam_wis, _performance$attendan, _performance$attendan2;\n  const [marks, setMarks] = useState([]);\n  const [attendance, setAttendance] = useState([]);\n  const [performance, setPerformance] = useState(null);\n  const [notifications, setNotifications] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const formatNumber = (value, decimals = 1) => {\n    const num = Number(value);\n    return isNaN(num) ? \"0.0\" : num.toFixed(decimals);\n  };\n\n  // üî• CALCULATE UNREAD NOTIFICATIONS COUNT\n  const unreadCount = notifications.filter(n => !n.is_read).length;\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      setError(\"\");\n      const [marksRes, attendanceRes, performanceRes, notificationsRes] = await Promise.all([studentAPI.getMyMarks(), studentAPI.getMyAttendance(), studentAPI.getMyPerformance(), studentAPI.getMyNotifications()]);\n      setMarks(marksRes.data || []);\n      setAttendance(attendanceRes.data || []);\n      setPerformance(performanceRes.data || null);\n      setNotifications(notificationsRes.data || []);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n      setError(\"Failed to load dashboard data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const markNotificationAsRead = async id => {\n    try {\n      await studentAPI.markNotificationRead(id);\n      setNotifications(notifications.map(n => n.id === id ? {\n        ...n,\n        is_read: true\n      } : n));\n    } catch (error) {\n      console.error(\"Error marking notification as read:\", error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading dashboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1702,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1701,\n      columnNumber: 7\n    }, this);\n  }\n  const COLORS = [\"#6366f1\", \"#8b5cf6\", \"#ec4899\", \"#f59e0b\", \"#10b981\"];\n\n  // Prepare chart data\n  const subjectPerformanceData = (performance === null || performance === void 0 ? void 0 : (_performance$subject_ = performance.subject_wise) === null || _performance$subject_ === void 0 ? void 0 : _performance$subject_.map(s => ({\n    subject: s.subject_name,\n    average: Number(s.average_percentage || 0)\n  }))) || [];\n  const examTypeData = (performance === null || performance === void 0 ? void 0 : (_performance$exam_wis = performance.exam_wise) === null || _performance$exam_wis === void 0 ? void 0 : _performance$exam_wis.map(e => ({\n    type: e.exam_type,\n    average: parseFloat(e.average_percentage || 0).toFixed(1)\n  }))) || [];\n  const attendanceData = [{\n    name: \"Present\",\n    value: (performance === null || performance === void 0 ? void 0 : (_performance$attendan = performance.attendance) === null || _performance$attendan === void 0 ? void 0 : _performance$attendan.present_days) || 0\n  }, {\n    name: \"Absent\",\n    value: (performance === null || performance === void 0 ? void 0 : (_performance$attendan2 = performance.attendance) === null || _performance$attendan2 === void 0 ? void 0 : _performance$attendan2.absent_days) || 0\n  }];\n\n  // üî• ALL RENDER FUNCTIONS (UNCHANGED)\n  const renderOverview = () => {\n    var _performance$overall, _performance$overall2, _performance$attendan3;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overview-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Overall Percentage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1732,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: [formatNumber(performance === null || performance === void 0 ? void 0 : (_performance$overall = performance.overall) === null || _performance$overall === void 0 ? void 0 : _performance$overall.overall_percentage), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1733,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Subjects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1738,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: (performance === null || performance === void 0 ? void 0 : (_performance$overall2 = performance.overall) === null || _performance$overall2 === void 0 ? void 0 : _performance$overall2.subjects_taken) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1739,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1737,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Attendance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1744,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: [formatNumber(performance === null || performance === void 0 ? void 0 : (_performance$attendan3 = performance.attendance) === null || _performance$attendan3 === void 0 ? void 0 : _performance$attendan3.attendance_percentage), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1745,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1743,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Total Exams\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1750,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: marks.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1751,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1749,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1730,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Performance by Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1757,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: subjectPerformanceData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1760,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1761,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1762,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1763,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"average\",\n                fill: \"#6366f1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1764,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1759,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1758,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1756,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Performance by Exam Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1770,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: examTypeData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1773,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1774,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1775,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1776,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"average\",\n                fill: \"#8b5cf6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1777,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1772,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1771,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1769,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Attendance Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1783,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(PieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: attendanceData,\n                cx: \"50%\",\n                cy: \"50%\",\n                labelLine: false,\n                label: ({\n                  name,\n                  value\n                }) => `${name}: ${value}`,\n                outerRadius: 80,\n                fill: \"#8884d8\",\n                dataKey: \"value\",\n                children: attendanceData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: COLORS[index % COLORS.length]\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1797,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1786,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1803,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1785,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1784,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1782,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1755,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1729,\n      columnNumber: 5\n    }, this);\n  };\n  const renderMarks = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"marks-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Marks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1813,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Exam Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1819,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Marks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1820,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Percentage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1821,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Result\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1822,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1823,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Remarks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1824,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1817,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1816,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: marks.map(mark => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: mark.subject_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1830,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: mark.exam_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1831,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [mark.marks_obtained, \" / \", mark.max_marks]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1832,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `percentage ${mark.percentage >= 50 ? \"pass\" : \"fail\"}`,\n                children: [formatNumber(mark.percentage), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1834,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1833,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `result-badge ${mark.result === \"Pass\" ? \"pass\" : \"fail\"}`,\n                children: mark.result\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1839,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1838,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(mark.exam_date).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1843,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: mark.remarks || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1844,\n              columnNumber: 17\n            }, this)]\n          }, mark.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1829,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1815,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1814,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1812,\n    columnNumber: 5\n  }, this);\n  const renderAttendance = () => {\n    var _performance$attendan4, _performance$attendan5, _performance$attendan6, _performance$attendan7;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"attendance-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1855,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attendance-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card present\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Present\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1858,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [(performance === null || performance === void 0 ? void 0 : (_performance$attendan4 = performance.attendance) === null || _performance$attendan4 === void 0 ? void 0 : _performance$attendan4.present_days) || 0, \" days\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1859,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1857,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card absent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Absent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1862,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [(performance === null || performance === void 0 ? void 0 : (_performance$attendan5 = performance.attendance) === null || _performance$attendan5 === void 0 ? void 0 : _performance$attendan5.absent_days) || 0, \" days\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1863,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1861,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card total\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1866,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [(performance === null || performance === void 0 ? void 0 : (_performance$attendan6 = performance.attendance) === null || _performance$attendan6 === void 0 ? void 0 : _performance$attendan6.total_days) || 0, \" days\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1867,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1865,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card percentage\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Percentage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1870,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [formatNumber(performance === null || performance === void 0 ? void 0 : (_performance$attendan7 = performance.attendance) === null || _performance$attendan7 === void 0 ? void 0 : _performance$attendan7.attendance_percentage), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1871,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1869,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1856,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"data-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1878,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1879,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Remarks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1880,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1877,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1876,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: attendance.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(record.date).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1886,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${record.status}`,\n                  children: record.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1888,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1887,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: record.remarks || \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1892,\n                columnNumber: 17\n              }, this)]\n            }, record.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1885,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1883,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1875,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1874,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1854,\n      columnNumber: 5\n    }, this);\n  };\n  const renderNotifications = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notifications-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Notifications\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1903,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-list\",\n      children: [notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `notification-item ${notification.is_read ? \"read\" : \"unread\"}`,\n        onClick: () => !notification.is_read && markNotificationAsRead(notification.id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notification-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: notification.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1912,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"notification-date\",\n            children: new Date(notification.created_at).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1913,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1911,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"notification-message\",\n          children: notification.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1917,\n          columnNumber: 13\n        }, this), !notification.is_read && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"unread-badge\",\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1918,\n          columnNumber: 39\n        }, this)]\n      }, notification.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1906,\n        columnNumber: 11\n      }, this)), notifications.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-data\",\n        children: \"No notifications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1922,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1904,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1902,\n    columnNumber: 5\n  }, this);\n\n  // üî• NEW CGPA RENDER\n  const renderCGPA = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cgpa-section\",\n    children: /*#__PURE__*/_jsxDEV(CGPACalculator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1931,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1930,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Student Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1939,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: user === null || user === void 0 ? void 0 : user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1941,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onLogout,\n            className: \"logout-btn\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1942,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1940,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1938,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1937,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-banner\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1949,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === \"overview\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"overview\"),\n        children: \"\\uD83D\\uDCCA Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1953,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === \"marks\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"marks\"),\n        children: \"\\uD83D\\uDCC8 Marks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1959,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === \"attendance\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"attendance\"),\n        children: \"\\uD83D\\uDCCB Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1965,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === \"notifications\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"notifications\"),\n        children: [\"\\uD83D\\uDD14 Notifications\", unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge\",\n          children: unreadCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1977,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1971,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === \"cgpa\" ? \"active\" : \"\"}`,\n        onClick: () => setActiveTab(\"cgpa\"),\n        children: \"\\uD83E\\uDDEE CGPA Calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1981,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1952,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [activeTab === \"overview\" && renderOverview(), activeTab === \"marks\" && renderMarks(), activeTab === \"attendance\" && renderAttendance(), activeTab === \"notifications\" && renderNotifications(), activeTab === \"cgpa\" && renderCGPA()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1989,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1936,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentDashboard, \"Sl62wmC6uyxfOUNQWGzetKSWQF8=\");\n_c = StudentDashboard;\nexport default StudentDashboard;\nvar _c;\n$RefreshReg$(_c, \"StudentDashboard\");","map":{"version":3,"names":["React","useEffect","useState","studentAPI","LineChart","Line","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","CGPACalculator","jsxDEV","_jsxDEV","StudentDashboard","user","onLogout","_s","_performance$subject_","_performance$exam_wis","_performance$attendan","_performance$attendan2","marks","setMarks","attendance","setAttendance","performance","setPerformance","notifications","setNotifications","activeTab","setActiveTab","loading","setLoading","error","setError","formatNumber","value","decimals","num","Number","isNaN","toFixed","unreadCount","filter","n","is_read","length","fetchData","marksRes","attendanceRes","performanceRes","notificationsRes","Promise","all","getMyMarks","getMyAttendance","getMyPerformance","getMyNotifications","data","console","markNotificationAsRead","id","markNotificationRead","map","className","children","fileName","_jsxFileName","lineNumber","columnNumber","COLORS","subjectPerformanceData","subject_wise","s","subject","subject_name","average","average_percentage","examTypeData","exam_wise","e","type","exam_type","parseFloat","attendanceData","name","present_days","absent_days","renderOverview","_performance$overall","_performance$overall2","_performance$attendan3","overall","overall_percentage","subjects_taken","attendance_percentage","width","height","strokeDasharray","dataKey","fill","cx","cy","labelLine","label","outerRadius","entry","index","renderMarks","mark","marks_obtained","max_marks","percentage","result","Date","exam_date","toLocaleDateString","remarks","renderAttendance","_performance$attendan4","_performance$attendan5","_performance$attendan6","_performance$attendan7","total_days","record","date","status","renderNotifications","notification","onClick","title","created_at","message","renderCGPA","email","_c","$RefreshReg$"],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js"],"sourcesContent":["// // // frontend/src/dashboards/AdminDashboard.js - COMPLETE FIXED VERSION\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ FIXED: loadData extracted for Refresh button\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] =\n// //         await Promise.all([\n// //           adminAPI.getStudents(),\n// //           adminAPI.getTeachers(),\n// //           adminAPI.getParents(),\n// //           adminAPI.getClasses(),\n// //         ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n// //       console.log(studentsData)\n// //       console.log(teachersData)\n// //       console.log(parentsData)\n// //       console.log(classesData)\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n  \n// //   // ‚úÖ Simplified useEffect\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       {/* ‚úÖ REFRESH BUTTON - Works now! */}\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Students</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No students found</td>\n// //             </tr>\n// //           )}\n// //           {students.map((s) => (\n// //             <tr key={s.id}>\n// //               <td>{`${s.first_name || \"\"} ${s.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {s.class_name}\n// //                 {s.section ? ` - ${s.section}` : \"\"}\n// //               </td>\n// //               <td>{s.roll_number}</td>\n// //               <td>{s.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Teachers</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No teachers found</td>\n// //             </tr>\n// //           )}\n// //           {teachers.map((t) => (\n// //             <tr key={t.id}>\n// //               <td>{`${t.first_name || \"\"} ${t.last_name || \"\"}`.trim()}</td>\n// //               <td>{t.department}</td>\n// //               <td>{t.phone}</td>\n// //               <td>{t.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Parents</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No parents found</td>\n// //             </tr>\n// //           )}\n// //           {parents.map((p) => (\n// //             <tr key={p.id}>\n// //               <td>{`${p.first_name || \"\"} ${p.last_name || \"\"}`.trim()}</td>\n// //               <td>\n// //                 {Array.isArray(p.children) && p.children.length > 0\n// //                   ? p.children.map((c) => c.name).join(\", \")\n// //                   : \"‚Äî\"}\n// //               </td>\n// //               <td>{p.phone}</td>\n// //               <td>{p.email}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <h3>Classes</h3>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr>\n// //               <td colSpan={4}>No classes found</td>\n// //             </tr>\n// //           )}\n// //           {classes.map((c) => (\n// //             <tr key={c.id}>\n// //               <td>{c.class_name}</td>\n// //               <td>{c.section}</td>\n// //               <td>{c.teacher_name || \"Unassigned\"}</td>\n// //               <td>{c.student_count}</td>\n// //             </tr>\n// //           ))}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // if (loading) {\n// //   //   return (\n// //   //     <div className=\"dashboard-container\">\n// //   //       <div className=\"dashboard-header\">\n// //   //         <h2>Admin Dashboard</h2>\n// //   //       </div>\n// //   //       <p>Loading...</p>\n// //   //     </div>\n// //   //   );\n// //   // }\n// //   if (loading) {\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //       </div>\n// //       <div className=\"skeleton-loader\">\n// //         <div className=\"admin-overview-grid\">\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //           <div className=\"skeleton-stat\"></div>\n// //         </div>\n// //         <div className=\"skeleton-table\">\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //           <div className=\"skeleton-row\"></div>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button\n// //           className={tab === \"overview\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"overview\")}\n// //         >\n// //           Overview\n// //         </button>\n// //         <button\n// //           className={tab === \"students\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"students\")}\n// //         >\n// //           Students\n// //         </button>\n// //         <button\n// //           className={tab === \"teachers\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"teachers\")}\n// //         >\n// //           Teachers\n// //         </button>\n// //         <button\n// //           className={tab === \"parents\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"parents\")}\n// //         >\n// //           Parents\n// //         </button>\n// //         <button\n// //           className={tab === \"classes\" ? \"tab active\" : \"tab\"}\n// //           onClick={() => setTab(\"classes\")}\n// //         >\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n\n// // import React, { useEffect, useState } from \"react\";\n// // import { adminAPI } from \"../api\";\n// // import \"./AdminDashboard.css\";\n\n// // function AdminDashboard({ user, onLogout }) {\n// //   const [stats, setStats] = useState({\n// //     totalStudents: 0,\n// //     totalTeachers: 0,\n// //     totalParents: 0,\n// //     totalClasses: 0,\n// //   });\n// //   const [students, setStudents] = useState([]);\n// //   const [teachers, setTeachers] = useState([]);\n// //   const [parents, setParents] = useState([]);\n// //   const [classes, setClasses] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [tab, setTab] = useState(\"overview\");\n// //   const [error, setError] = useState(\"\");\n\n// //   // ‚úÖ CRUD STATES\n// //   const [editingId, setEditingId] = useState(null);\n// //   const [editForms, setEditForms] = useState({});\n// //   const [showCreateModal, setShowCreateModal] = useState({ students: false, teachers: false, parents: false, classes: false });\n// //   const [createForms, setCreateForms] = useState({});\n\n// //   const loadData = async () => {\n// //     try {\n// //       setLoading(true);\n// //       setError(\"\");\n// //       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n// //         adminAPI.getStudents(),\n// //         adminAPI.getTeachers(),\n// //         adminAPI.getParents(),\n// //         adminAPI.getClasses(),\n// //       ]);\n\n// //       const studentsData = studentsRes.data || [];\n// //       const teachersData = teachersRes.data || [];\n// //       const parentsData = parentsRes.data || [];\n// //       const classesData = classesRes.data || [];\n\n// //       setStudents(studentsData);\n// //       setTeachers(teachersData);\n// //       setParents(parentsData);\n// //       setClasses(classesData);\n\n// //       setStats({\n// //         totalStudents: studentsData.length,\n// //         totalTeachers: teachersData.length,\n// //         totalParents: parentsData.length,\n// //         totalClasses: classesData.length,\n// //       });\n// //     } catch (err) {\n// //       console.error(err);\n// //       setError(\"Failed to load admin data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   useEffect(() => {\n// //     loadData();\n// //   }, []);\n\n// //   // ‚úÖ SHARED CRUD HANDLERS\n// //   const handleDelete = async (deleteFn, id, entityName) => {\n// //     if (!confirm(`Delete this ${entityName}?`)) return;\n// //     try {\n// //       await deleteFn(id);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to delete ${entityName}`);\n// //     }\n// //   };\n\n// //   const startEdit = (entity, id) => {\n// //     setEditingId(id);\n// //     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n// //   };\n\n// //   const updateEditField = (id, field, value) => {\n// //     setEditForms(prev => ({\n// //       ...prev,\n// //       [id]: { ...prev[id], [field]: value }\n// //     }));\n// //   };\n\n// //   const saveEdit = async (updateFn, id) => {\n// //     try {\n// //       await updateFn(id, editForms[id]);\n// //       setEditingId(null);\n// //       setEditForms({});\n// //       loadData();\n// //     } catch (err) {\n// //       setError('Update failed');\n// //     }\n// //   };\n\n// //   const cancelEdit = () => {\n// //     setEditingId(null);\n// //     setEditForms({});\n// //   };\n\n// //   const openCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n// //     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n// //   };\n\n// //   const closeCreateModal = (entity) => {\n// //     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n// //     setCreateForms(prev => { const newForms = { ...prev }; delete newForms[entity]; return newForms; });\n// //   };\n\n// //   const updateCreateField = (entity, field, value) => {\n// //     setCreateForms(prev => ({\n// //       ...prev,\n// //       [entity]: { ...prev[entity], [field]: value }\n// //     }));\n// //   };\n\n// //   const handleCreate = async (createFn, entity) => {\n// //     try {\n// //       await createFn(createForms[entity]);\n// //       closeCreateModal(entity);\n// //       loadData();\n// //     } catch (err) {\n// //       setError(`Failed to create ${entity}`);\n// //     }\n// //   };\n\n// //   const renderOverview = () => (\n// //     <div className=\"admin-overview-grid\">\n// //       <div className=\"stat-card\">\n// //         <h3>Total Students</h3>\n// //         <p>{stats.totalStudents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Teachers</h3>\n// //         <p>{stats.totalTeachers}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Parents</h3>\n// //         <p>{stats.totalParents}</p>\n// //       </div>\n// //       <div className=\"stat-card\">\n// //         <h3>Total Classes</h3>\n// //         <p>{stats.totalClasses}</p>\n// //       </div>\n// //       <div className=\"stat-card full-width\">\n// //         <button onClick={loadData} className=\"btn btn-primary\">\n// //           üîÑ Refresh Data\n// //         </button>\n// //       </div>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ STUDENTS TABLE WITH CRUD\n// //   const renderStudents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Students</h3>\n// //         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Student\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Class</th>\n// //             <th>Roll</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {students.length === 0 && (\n// //             <tr><td colSpan={5}>No students found</td></tr>\n// //           )}\n// //           {students.map((s) => {\n// //             const isEditing = editingId === s.id;\n// //             const formData = editForms[s.id] || {};\n// //             return (\n// //               <tr key={s.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || s.first_name}\n// //                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || s.class_name || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.roll_number || s.roll_number || ''}\n// //                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : s.roll_number || 'N/A'}\n// //                 </td>\n// //                 <td>{s.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button \n// //                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n// //                         className=\"btn btn-success btn-sm\"\n// //                       >\n// //                         üíæ Save\n// //                       </button>\n// //                       <button \n// //                         onClick={cancelEdit}\n// //                         className=\"btn btn-secondary btn-sm\"\n// //                       >\n// //                         ‚ùå Cancel\n// //                       </button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button \n// //                         onClick={() => startEdit(s, s.id)}\n// //                         className=\"btn btn-warning btn-sm\"\n// //                       >\n// //                         ‚úèÔ∏è Edit\n// //                       </button>\n// //                       <button \n// //                         onClick={() => handleDelete(adminAPI.deleteStudent, s.id, 'student')}\n// //                         className=\"btn btn-danger btn-sm\"\n// //                       >\n// //                         üóëÔ∏è Delete\n// //                       </button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ TEACHERS TABLE WITH CRUD\n// //   const renderTeachers = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Teachers</h3>\n// //         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Teacher\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Department</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {teachers.length === 0 && (\n// //             <tr><td colSpan={5}>No teachers found</td></tr>\n// //           )}\n// //           {teachers.map((t) => {\n// //             const isEditing = editingId === t.id;\n// //             const formData = editForms[t.id] || {};\n// //             return (\n// //               <tr key={t.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || t.first_name}\n// //                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.department || t.department || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.department || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || t.phone || ''}\n// //                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : t.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{t.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ PARENTS TABLE WITH CRUD\n// //   const renderParents = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Parents</h3>\n// //         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Parent\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Name</th>\n// //             <th>Children</th>\n// //             <th>Phone</th>\n// //             <th>Email</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {parents.length === 0 && (\n// //             <tr><td colSpan={5}>No parents found</td></tr>\n// //           )}\n// //           {parents.map((p) => {\n// //             const isEditing = editingId === p.id;\n// //             const formData = editForms[p.id] || {};\n// //             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n// //             return (\n// //               <tr key={p.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.first_name || '' || p.first_name}\n// //                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : (\n// //                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n// //                   )}\n// //                 </td>\n// //                 <td>{childrenNames}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.phone || p.phone || ''}\n// //                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : p.phone || 'N/A'}\n// //                 </td>\n// //                 <td>{p.email || 'N/A'}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CLASSES TABLE WITH CRUD\n// //   const renderClasses = () => (\n// //     <div className=\"table-wrapper\">\n// //       <div className=\"table-header\">\n// //         <h3>Classes</h3>\n// //         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n// //           ‚ûï Add New Class\n// //         </button>\n// //       </div>\n// //       <table className=\"data-table\">\n// //         <thead>\n// //           <tr>\n// //             <th>Class</th>\n// //             <th>Section</th>\n// //             <th>Teacher</th>\n// //             <th>Students</th>\n// //             <th>Actions</th>\n// //           </tr>\n// //         </thead>\n// //         <tbody>\n// //           {classes.length === 0 && (\n// //             <tr><td colSpan={5}>No classes found</td></tr>\n// //           )}\n// //           {classes.map((c) => {\n// //             const isEditing = editingId === c.id;\n// //             const formData = editForms[c.id] || {};\n// //             return (\n// //               <tr key={c.id}>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.class_name || c.class_name || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.class_name || 'N/A'}\n// //                 </td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <input\n// //                       value={formData.section || c.section || ''}\n// //                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n// //                       className=\"edit-input\"\n// //                     />\n// //                   ) : c.section || 'N/A'}\n// //                 </td>\n// //                 <td>{c.teacher_name || 'Unassigned'}</td>\n// //                 <td>{c.student_count || 0}</td>\n// //                 <td>\n// //                   {isEditing ? (\n// //                     <>\n// //                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n// //                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n// //                     </>\n// //                   ) : (\n// //                     <>\n// //                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n// //                       <button onClick={() => handleDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n// //                     </>\n// //                   )}\n// //                 </td>\n// //               </tr>\n// //             );\n// //           })}\n// //         </tbody>\n// //       </table>\n// //     </div>\n// //   );\n\n// //   // ‚úÖ CREATE MODALS (Simple forms)\n// //   const renderCreateModal = () => {\n// //     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n// //     if (!entity) return null;\n\n// //     const formData = createForms[entity] || {};\n// //     const fields = {\n// //       students: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n// //         { key: 'class_id', label: 'Class ID', type: 'number' }\n// //       ],\n// //       teachers: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'department', label: 'Department', type: 'text' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       parents: [\n// //         { key: 'first_name', label: 'First Name', type: 'text' },\n// //         { key: 'last_name', label: 'Last Name', type: 'text' },\n// //         { key: 'email', label: 'Email', type: 'email' },\n// //         { key: 'phone', label: 'Phone', type: 'tel' }\n// //       ],\n// //       classes: [\n// //         { key: 'class_name', label: 'Class Name', type: 'text' },\n// //         { key: 'section', label: 'Section', type: 'text' },\n// //         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n// //       ]\n// //     };\n\n// //     const createFn = {\n// //       students: adminAPI.createStudent,\n// //       teachers: adminAPI.createTeacher,\n// //       parents: adminAPI.createParent,\n// //       classes: adminAPI.createClass\n// //     }[entity];\n\n// //     return (\n// //       <div className=\"modal-overlay\">\n// //         <div className=\"modal\">\n// //           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n// //           <div className=\"modal-form\">\n// //             {fields[entity].map(field => (\n// //               <div key={field.key} className=\"form-group\">\n// //                 <label>{field.label}</label>\n// //                 <input\n// //                   type={field.type}\n// //                   value={formData[field.key] || ''}\n// //                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n// //                   className=\"form-input\"\n// //                 />\n// //               </div>\n// //             ))}\n// //           </div>\n// //           <div className=\"modal-actions\">\n// //             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n// //               Create\n// //             </button>\n// //             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n// //               Cancel\n// //             </button>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   };\n\n// //   if (loading) {\n// //     return (\n// //       <div className=\"dashboard-container\">\n// //         <div className=\"dashboard-header\">\n// //           <h2>Admin Dashboard</h2>\n// //         </div>\n// //         <div className=\"skeleton-loader\">\n// //           <div className=\"admin-overview-grid\">\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //             <div className=\"skeleton-stat\"></div>\n// //           </div>\n// //         </div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //     <div className=\"dashboard-container\">\n// //       <div className=\"dashboard-header\">\n// //         <h2>Admin Dashboard</h2>\n// //         <div className=\"dashboard-user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"btn btn-secondary\">\n// //             Logout\n// //           </button>\n// //         </div>\n// //       </div>\n\n// //       {error && <div className=\"error-banner\">{error}</div>}\n\n// //       <div className=\"dashboard-tabs\">\n// //         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n// //           Overview\n// //         </button>\n// //         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n// //           Students\n// //         </button>\n// //         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n// //           Teachers\n// //         </button>\n// //         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n// //           Parents\n// //         </button>\n// //         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n// //           Classes\n// //         </button>\n// //       </div>\n\n// //       <div className=\"dashboard-content\">\n// //         {tab === \"overview\" && renderOverview()}\n// //         {tab === \"students\" && renderStudents()}\n// //         {tab === \"teachers\" && renderTeachers()}\n// //         {tab === \"parents\" && renderParents()}\n// //         {tab === \"classes\" && renderClasses()}\n// //         {renderCreateModal()}\n// //       </div>\n// //     </div>\n// //   );\n// // }\n\n// // export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ \n//     students: false, \n//     teachers: false, \n//     parents: false, \n//     classes: false \n//   });\n//   const [createForms, setCreateForms] = useState({});\n\n//   // ‚úÖ CONFIRMATION MODAL STATE (FIXES ESLint ERROR)\n//   const [confirmDialog, setConfirmDialog] = useState({\n//     show: false,\n//     title: '',\n//     message: '',\n//     onConfirm: null,\n//     entityName: ''\n//   });\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS (REPLACED confirm() WITH CUSTOM MODAL)\n//   const showConfirm = (title, message, onConfirm, entityName) => {\n//     setConfirmDialog({\n//       show: true,\n//       title,\n//       message,\n//       onConfirm,\n//       entityName\n//     });\n//   };\n\n//   const handleConfirmDelete = async (deleteFn, id, entityName) => {\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     } finally {\n//       setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' });\n//     }\n//   };\n\n//   const confirmDelete = (deleteFn, id, entityName) => {\n//     showConfirm(\n//       'Confirm Delete',\n//       `Are you sure you want to delete this ${entityName}? This action cannot be undone.`,\n//       () => handleConfirmDelete(deleteFn, id, entityName),\n//       entityName\n//     );\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { \n//       const newForms = { ...prev }; \n//       delete newForms[entity]; \n//       return newForms; \n//     });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || s.first_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => confirmDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || t.first_name || ''}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || p.first_name || ''}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       // teachers: [\n//       //   { key: 'first_name', label: 'First Name', type: 'text' },\n//       //   { key: 'last_name', label: 'Last Name', type: 'text' },\n//       //   { key: 'email', label: 'Email', type: 'email' },\n//       //   { key: 'department', label: 'Department', type: 'text' },\n//       //   { key: 'phone', label: 'Phone', type: 'tel' }\n//       // ],\n//       teachers: [\n//      { key: 'first_name', label: 'First Name', type: 'text' },\n//      { key: 'last_name', label: 'Last Name', type: 'text' },\n//      { key: 'email', label: 'Email', type: 'email' },\n//      { key: 'department', label: 'Department', type: 'text' },\n//      { key: 'phone', label: 'Phone', type: 'tel' },\n\n//   // ‚úÖ Added fields\n//      { key: 'qualification', label: 'Qualification', type: 'text' },\n//      { key: 'hire_date', label: 'Hire Date', type: 'date' }\n//      ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   // ‚úÖ CONFIRM DELETE MODAL (FIXES ESLint)\n//   const renderConfirmDialog = () => {\n//     if (!confirmDialog.show) return null;\n    \n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal confirm-modal\">\n//           <h3>{confirmDialog.title}</h3>\n//           <p>{confirmDialog.message}</p>\n//           <div className=\"modal-actions\">\n//             <button \n//               onClick={confirmDialog.onConfirm} \n//               className=\"btn btn-danger\"\n//             >\n//               ‚úÖ Yes, Delete\n//             </button>\n//             <button \n//               onClick={() => setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' })}\n//               className=\"btn btn-secondary\"\n//             >\n//               ‚ùå Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//         {renderConfirmDialog()} {/* ‚úÖ ADDED CONFIRM MODAL */}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n// frontend/src/dashboards/StudentDashboard.js\nimport React, { useEffect, useState } from \"react\";\nimport { studentAPI } from \"../api\";\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  PieChart,\n  Pie,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\nimport CGPACalculator from \"../components/CGPACalculator\"; // üî• NEW IMPORT\nimport \"./StudentDashboard.css\";\n\nfunction StudentDashboard({ user, onLogout }) {\n  const [marks, setMarks] = useState([]);\n  const [attendance, setAttendance] = useState([]);\n  const [performance, setPerformance] = useState(null);\n  const [notifications, setNotifications] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  \n  const formatNumber = (value, decimals = 1) => {\n    const num = Number(value);\n    return isNaN(num) ? \"0.0\" : num.toFixed(decimals);\n  };\n\n  // üî• CALCULATE UNREAD NOTIFICATIONS COUNT\n  const unreadCount = notifications.filter((n) => !n.is_read).length;\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      setError(\"\");\n      const [marksRes, attendanceRes, performanceRes, notificationsRes] =\n        await Promise.all([\n          studentAPI.getMyMarks(),\n          studentAPI.getMyAttendance(),\n          studentAPI.getMyPerformance(),\n          studentAPI.getMyNotifications(),\n        ]);\n\n      setMarks(marksRes.data || []);\n      setAttendance(attendanceRes.data || []);\n      setPerformance(performanceRes.data || null);\n      setNotifications(notificationsRes.data || []);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n      setError(\"Failed to load dashboard data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markNotificationAsRead = async (id) => {\n    try {\n      await studentAPI.markNotificationRead(id);\n      setNotifications(\n        notifications.map((n) =>\n          n.id === id ? { ...n, is_read: true } : n\n        )\n      );\n    } catch (error) {\n      console.error(\"Error marking notification as read:\", error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"dashboard\">\n        <div className=\"loading\">Loading dashboard...</div>\n      </div>\n    );\n  }\n\n  const COLORS = [\"#6366f1\", \"#8b5cf6\", \"#ec4899\", \"#f59e0b\", \"#10b981\"];\n\n  // Prepare chart data\n  const subjectPerformanceData =\n    performance?.subject_wise?.map((s) => ({\n      subject: s.subject_name,\n      average: Number(s.average_percentage || 0),\n    })) || [];\n\n  const examTypeData =\n    performance?.exam_wise?.map((e) => ({\n      type: e.exam_type,\n      average: parseFloat(e.average_percentage || 0).toFixed(1),\n    })) || [];\n\n  const attendanceData = [\n    { name: \"Present\", value: performance?.attendance?.present_days || 0 },\n    { name: \"Absent\", value: performance?.attendance?.absent_days || 0 },\n  ];\n\n  // üî• ALL RENDER FUNCTIONS (UNCHANGED)\n  const renderOverview = () => (\n    <div className=\"overview-section\">\n      <div className=\"stats-grid\">\n        <div className=\"stat-card\">\n          <h3>Overall Percentage</h3>\n          <div className=\"stat-value\">\n            {formatNumber(performance?.overall?.overall_percentage)}%\n          </div>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Subjects</h3>\n          <div className=\"stat-value\">\n            {performance?.overall?.subjects_taken || 0}\n          </div>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Attendance</h3>\n          <div className=\"stat-value\">\n            {formatNumber(performance?.attendance?.attendance_percentage)}%\n          </div>\n        </div>\n        <div className=\"stat-card\">\n          <h3>Total Exams</h3>\n          <div className=\"stat-value\">{marks.length}</div>\n        </div>\n      </div>\n\n      <div className=\"charts-grid\">\n        <div className=\"chart-container\">\n          <h3>Performance by Subject</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={subjectPerformanceData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"subject\" />\n              <YAxis />\n              <Tooltip />\n              <Bar dataKey=\"average\" fill=\"#6366f1\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n\n        <div className=\"chart-container\">\n          <h3>Performance by Exam Type</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={examTypeData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"type\" />\n              <YAxis />\n              <Tooltip />\n              <Bar dataKey=\"average\" fill=\"#8b5cf6\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n\n        <div className=\"chart-container\">\n          <h3>Attendance Distribution</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={attendanceData}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                label={({ name, value }) => `${name}: ${value}`}\n                outerRadius={80}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {attendanceData.map((entry, index) => (\n                  <Cell\n                    key={`cell-${index}`}\n                    fill={COLORS[index % COLORS.length]}\n                  />\n                ))}\n              </Pie>\n              <Tooltip />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderMarks = () => (\n    <div className=\"marks-section\">\n      <h2>My Marks</h2>\n      <div className=\"table-container\">\n        <table className=\"data-table\">\n          <thead>\n            <tr>\n              <th>Subject</th>\n              <th>Exam Type</th>\n              <th>Marks</th>\n              <th>Percentage</th>\n              <th>Result</th>\n              <th>Date</th>\n              <th>Remarks</th>\n            </tr>\n          </thead>\n          <tbody>\n            {marks.map((mark) => (\n              <tr key={mark.id}>\n                <td>{mark.subject_name}</td>\n                <td>{mark.exam_type}</td>\n                <td>{mark.marks_obtained} / {mark.max_marks}</td>\n                <td>\n                  <span className={`percentage ${mark.percentage >= 50 ? \"pass\" : \"fail\"}`}>\n                    {formatNumber(mark.percentage)}%\n                  </span>\n                </td>\n                <td>\n                  <span className={`result-badge ${mark.result === \"Pass\" ? \"pass\" : \"fail\"}`}>\n                    {mark.result}\n                  </span>\n                </td>\n                <td>{new Date(mark.exam_date).toLocaleDateString()}</td>\n                <td>{mark.remarks || \"-\"}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const renderAttendance = () => (\n    <div className=\"attendance-section\">\n      <h2>My Attendance</h2>\n      <div className=\"attendance-summary\">\n        <div className=\"summary-card present\">\n          <h4>Present</h4>\n          <p>{performance?.attendance?.present_days || 0} days</p>\n        </div>\n        <div className=\"summary-card absent\">\n          <h4>Absent</h4>\n          <p>{performance?.attendance?.absent_days || 0} days</p>\n        </div>\n        <div className=\"summary-card total\">\n          <h4>Total</h4>\n          <p>{performance?.attendance?.total_days || 0} days</p>\n        </div>\n        <div className=\"summary-card percentage\">\n          <h4>Percentage</h4>\n          <p>{formatNumber(performance?.attendance?.attendance_percentage)}%</p>\n        </div>\n      </div>\n      <div className=\"table-container\">\n        <table className=\"data-table\">\n          <thead>\n            <tr>\n              <th>Date</th>\n              <th>Status</th>\n              <th>Remarks</th>\n            </tr>\n          </thead>\n          <tbody>\n            {attendance.map((record) => (\n              <tr key={record.id}>\n                <td>{new Date(record.date).toLocaleDateString()}</td>\n                <td>\n                  <span className={`status-badge ${record.status}`}>\n                    {record.status}\n                  </span>\n                </td>\n                <td>{record.remarks || \"-\"}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const renderNotifications = () => (\n    <div className=\"notifications-section\">\n      <h2>Notifications</h2>\n      <div className=\"notifications-list\">\n        {notifications.map((notification) => (\n          <div\n            key={notification.id}\n            className={`notification-item ${notification.is_read ? \"read\" : \"unread\"}`}\n            onClick={() => !notification.is_read && markNotificationAsRead(notification.id)}\n          >\n            <div className=\"notification-header\">\n              <h4>{notification.title}</h4>\n              <span className=\"notification-date\">\n                {new Date(notification.created_at).toLocaleDateString()}\n              </span>\n            </div>\n            <p className=\"notification-message\">{notification.message}</p>\n            {!notification.is_read && <span className=\"unread-badge\">New</span>}\n          </div>\n        ))}\n        {notifications.length === 0 && (\n          <p className=\"no-data\">No notifications</p>\n        )}\n      </div>\n    </div>\n  );\n\n  // üî• NEW CGPA RENDER\n  const renderCGPA = () => (\n    <div className=\"cgpa-section\">\n      <CGPACalculator />\n    </div>\n  );\n\n  return (\n    <div className=\"dashboard\">\n      <header className=\"dashboard-header\">\n        <div className=\"header-content\">\n          <h1>Student Dashboard</h1>\n          <div className=\"user-info\">\n            <span>{user?.email}</span>\n            <button onClick={onLogout} className=\"logout-btn\">\n              Logout\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {error && <div className=\"error-banner\">{error}</div>}\n\n      {/* üî• UPDATED TABS WITH CGPA */}\n      <div className=\"dashboard-tabs\">\n        <button\n          className={`tab ${activeTab === \"overview\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"overview\")}\n        >\n          üìä Overview\n        </button>\n        <button\n          className={`tab ${activeTab === \"marks\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"marks\")}\n        >\n          üìà Marks\n        </button>\n        <button\n          className={`tab ${activeTab === \"attendance\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"attendance\")}\n        >\n          üìã Attendance\n        </button>\n        <button\n          className={`tab ${activeTab === \"notifications\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"notifications\")}\n        >\n          üîî Notifications\n          {unreadCount > 0 && (\n            <span className=\"badge\">{unreadCount}</span>\n          )}\n        </button>\n        {/* üî• NEW CGPA TAB */}\n        <button\n          className={`tab ${activeTab === \"cgpa\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"cgpa\")}\n        >\n          üßÆ CGPA Calculator\n        </button>\n      </div>\n\n      <div className=\"dashboard-content\">\n        {activeTab === \"overview\" && renderOverview()}\n        {activeTab === \"marks\" && renderMarks()}\n        {activeTab === \"attendance\" && renderAttendance()}\n        {activeTab === \"notifications\" && renderNotifications()}\n        {/* üî• NEW CGPA TAB CONTENT */}\n        {activeTab === \"cgpa\" && renderCGPA()}\n      </div>\n    </div>\n  );\n}\n\nexport default StudentDashboard;\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,QAAQ;AACnC,SACEC,SAAS,EACTC,IAAI,EACJC,QAAQ,EACRC,GAAG,EACHC,QAAQ,EACRC,GAAG,EACHC,IAAI,EACJC,KAAK,EACLC,KAAK,EACLC,aAAa,EACbC,OAAO,EACPC,MAAM,EACNC,mBAAmB,QACd,UAAU;AACjB,OAAOC,cAAc,MAAM,8BAA8B,CAAC,CAAC;AAC3D,OAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,SAASC,gBAAgBA,CAAC;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,sBAAA;EAC5C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC8B,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}