{"ast":null,"code":"// // frontend/src/dashboards/TeacherDashboard.js\n// import React, { useState, useEffect } from \"react\";\n// import { teacherAPI, adminAPI } from \"../api\"; // fixed import path\n// import \"./TeacherDashboard.css\";\n\n// // function TeacherDashboard({ user, onLogout }) {\n// //   const [activeTab, setActiveTab] = useState(\"overview\");\n// //   const [classes, setClasses] = useState([]);\n// //   const [selectedClass, setSelectedClass] = useState(null);\n// //   const [performance, setPerformance] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [error, setError] = useState(\"\");\n\n// //   useEffect(() => {\n// //     fetchData();\n// //   }, []);\n\n// //   const fetchData = async () => {\n// //     try {\n// //       setError(\"\");\n// //       const classesRes = await adminAPI.getClasses();\n// //       const classesData = classesRes.data || [];\n// //       setClasses(classesData);\n\n// //       if (classesData.length > 0) {\n// //         const classId = classesData[0].id;\n// //         setSelectedClass(classId);\n// //         const perfRes = await teacherAPI.getClassPerformance(classId);\n// //         setPerformance(perfRes.data || []);\n// //       }\n// //     } catch (error) {\n// //       console.error(\"Error:\", error);\n// //       setError(\"Failed to load data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   const loadClassPerformance = async (classId) => {\n// //     try {\n// //       setLoading(true);\n// //       const perfRes = await teacherAPI.getClassPerformance(classId);\n// //       setPerformance(perfRes.data || []);\n// //     } catch (error) {\n// //       console.error(\"Class performance error:\", error);\n// //       setError(\"Failed to load class performance\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   const handleClassSelect = async (classId) => {\n// //     setSelectedClass(classId);\n// //     await loadClassPerformance(classId);\n// //   };\n\n// //   if (loading && activeTab === \"overview\") {\n// //     return (\n// //       <div className=\"dashboard\">\n// //         <div className=\"loading\">Loading...</div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //   <div className=\"teacher-dashboard\">\n// //     {/* HERO HEADER */}\n// //     <header className=\"dashboard-header\">\n// //       <div className=\"header-content\">\n// //         <div className=\"header-left\">\n// //           <h1> Teacher Dashboard</h1>\n// //           <span className=\"quick-info\">\n// //             {classes.length} Classes ‚Ä¢ {totalStudents} Students\n// //           </span>\n// //         </div>\n// //         <div className=\"user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"logout-btn\">Logout</button>\n// //         </div>\n// //       </div>\n// //     </header>\n\n// //     {error && <div className=\"error-banner\">{error}</div>}\n\n// //     {/* TABS */}\n// //     <nav className=\"dashboard-tabs\">\n// //       <button className={`tab ${activeTab === \"overview\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"overview\")}>\n// //          Overview\n// //       </button>\n// //       <button className={`tab ${activeTab === \"marks\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"marks\")}>\n// //          Marks Entry\n// //       </button>\n// //       <button className={`tab ${activeTab === \"attendance\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"attendance\")}>\n// //          Attendance\n// //       </button>\n// //     </nav>\n\n// //     <main className=\"dashboard-content\">\n// //       {/* HERO STATS */}\n// //       <section className=\"hero-stats\">\n// //         <div className=\"stats-grid\">\n// //           <div className=\"stat-card primary\">\n// //             <div className=\"stat-icon\">üìö</div>\n// //             <h3>Total Classes</h3>\n// //             <div className=\"stat-value\">{classes.length}</div>\n// //             <div className=\"stat-subtitle\">Active classes this term</div>\n// //           </div>\n// //           <div className=\"stat-card\">\n// //             <div className=\"stat-icon\">üë•</div>\n// //             <h3>Class Size</h3>\n// //             <div className=\"stat-value\">\n// //               {selectedClass ? performance.length : '‚Äî'}\n// //             </div>\n// //             <div className=\"stat-subtitle\">{selectedClassName || 'Select a class'}</div>\n// //           </div>\n// //           <div className=\"stat-card\">\n// //             <div className=\"stat-icon\">üìà</div>\n// //             <h3>Avg Performance</h3>\n// //             <div className=\"stat-value\">{avgPerformance}%</div>\n// //             <div className=\"stat-subtitle\">Class average</div>\n// //           </div>\n// //         </div>\n// //       </section>\n\n// //       {/* CLASS SELECTOR - FULL HERO */}\n// //       {classes.length > 0 && (\n// //         <section className=\"class-hero-selector\">\n// //           <h2 className=\"section-title\">üìñ Choose Class to Manage</h2>\n// //           <div className=\"classes-hero-grid\">\n// //             {classes.map((cls) => (\n// //               <div\n// //                 key={cls.id}\n// //                 className={`class-hero-card ${selectedClass === cls.id ? \"selected\" : \"\"}`}\n// //                 onClick={() => handleClassSelect(cls.id)}\n// //               >\n// //                 <div className=\"class-icon\">{cls.class_name.charAt(0)}</div>\n// //                 <div className=\"class-details\">\n// //                   <h3>{cls.class_name} {cls.section}</h3>\n// //                   <p className=\"students-count\">{cls.student_count || 0} students</p>\n// //                   {cls.teacher_name && <p className=\"teacher-name\">{cls.teacher_name}</p>}\n// //                 </div>\n// //                 {selectedClass === cls.id && (\n// //                   <div className=\"selected-indicator\">\n// //                     <span>‚úÖ Selected</span>\n// //                   </div>\n// //                 )}\n// //               </div>\n// //             ))}\n// //           </div>\n// //         </section>\n// //       )}\n\n// //       {/* CONTENT BASED ON TAB */}\n// //       <section className=\"main-content\">\n// //         {activeTab === \"overview\" && selectedClass && (\n// //           <div className=\"overview-panel\">\n// //             <div className=\"panel-header\">\n// //               <h2>üìä {selectedClassName} Performance</h2>\n// //               <div className=\"panel-actions\">\n// //                 <button className=\"export-btn\">üì• Export</button>\n// //                 <button className=\"print-btn\">üñ®Ô∏è Print</button>\n// //               </div>\n// //             </div>\n// //             <div className=\"table-container\">\n// //               <table className=\"data-table\">\n// //                 <thead>\n// //                   <tr>\n// //                     <th>Roll No</th>\n// //                     <th>Student</th>\n// //                     <th>Avg %</th>\n// //                     <th>Subjects</th>\n// //                     <th>Exams</th>\n// //                     <th>Attendance</th>\n// //                     <th>Action</th>\n// //                   </tr>\n// //                 </thead>\n// //                 <tbody>\n// //                   {performance.map((student) => (\n// //                     <tr key={student.id}>\n// //                       <td className=\"roll-number\">{student.roll_number}</td>\n// //                       <td className=\"student-name\">{student.student_name}</td>\n// //                       <td>\n// //                         <span className={`grade-badge ${getGradeClass(student.average_percentage)}`}>\n// //                           {parseFloat(student.average_percentage || 0).toFixed(1)}%\n// //                         </span>\n// //                       </td>\n// //                       <td>{student.subjects_taken || 0}</td>\n// //                       <td>{student.total_exams || 0}</td>\n// //                       <td>\n// //                         <span className=\"attendance-ratio\">\n// //                           {student.present_days}/{student.total_days}\n// //                         </span>\n// //                       </td>\n// //                       <td>\n// //                         <div className=\"row-actions\">\n// //                           <button className=\"view-btn\">üëÅÔ∏è</button>\n// //                           <button className=\"marks-btn\">‚úèÔ∏è</button>\n// //                         </div>\n// //                       </td>\n// //                     </tr>\n// //                   ))}\n// //                 </tbody>\n// //               </table>\n// //             </div>\n// //           </div>\n// //         )}\n\n// //         {/* MARKS ENTRY TAB */}\n// //         {activeTab === \"marks\" && (\n// //           <div className=\"marks-entry-panel\">\n// //             <div className=\"panel-header\">\n// //               <h2>‚úèÔ∏è Marks Entry - {selectedClassName}</h2>\n// //               <div className=\"entry-actions\">\n// //                 <select className=\"exam-type-select\">\n// //                   <option>Unit Test 1</option>\n// //                   <option>Quarterly</option>\n// //                 </select>\n// //                 <button className=\"bulk-entry-btn\">Bulk Entry</button>\n// //               </div>\n// //             </div>\n// //             <p className=\"coming-soon\">Marks entry form coming soon...</p>\n// //           </div>\n// //         )}\n\n// //         {/* ATTENDANCE TAB */}\n// //         {activeTab === \"attendance\" && (\n// //           <div className=\"attendance-panel\">\n// //             <div className=\"panel-header\">\n// //               <h2>üìã Attendance - {selectedClassName}</h2>\n// //               <div className=\"attendance-actions\">\n// //                 <button className=\"today-btn\">üìÖ Today</button>\n// //                 <button className=\"mark-all-btn\">‚úÖ Mark All Present</button>\n// //               </div>\n// //             </div>\n// //             <p className=\"coming-soon\">Attendance interface coming soon...</p>\n// //           </div>\n// //         )}\n// //       </section>\n// //     </main>\n// //   </div>\n// // );\n\n// // }\n\n// // export default TeacherDashboard;\n// function TeacherDashboard({ user, onLogout }) {\n//   const [activeTab, setActiveTab] = useState(\"overview\");\n//   const [classes, setClasses] = useState([]);\n//   const [selectedClass, setSelectedClass] = useState(null);\n//   const [performance, setPerformance] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(\"\");\n\n//   useEffect(() => {\n//     fetchData();\n//   }, []);\n\n//   const fetchData = async () => {\n//     try {\n//       setError(\"\");\n//       const classesRes = await adminAPI.getClasses();\n//       const classesData = classesRes.data || [];\n//       setClasses(classesData);\n\n//       if (classesData.length > 0) {\n//         const classId = classesData[0].id;\n//         setSelectedClass(classId);\n//         const perfRes = await teacherAPI.getClassPerformance(classId);\n//         setPerformance(perfRes.data || []);\n//       }\n//     } catch (error) {\n//       console.error(\"Error:\", error);\n//       setError(\"Failed to load data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const loadClassPerformance = async (classId) => {\n//     try {\n//       setLoading(true);\n//       const perfRes = await teacherAPI.getClassPerformance(classId);\n//       setPerformance(perfRes.data || []);\n//     } catch (error) {\n//       console.error(\"Class performance error:\", error);\n//       setError(\"Failed to load class performance\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleClassSelect = async (classId) => {\n//     setSelectedClass(classId);\n//     await loadClassPerformance(classId);\n//   };\n\n//   // ‚úÖ HELPER FUNCTIONS (All included)\n//   const getSelectedClassName = () => {\n//     const cls = classes.find(c => c.id === selectedClass);\n//     return cls ? `${cls.class_name} ${cls.section}` : '';\n//   };\n\n//   const getTotalStudents = () => {\n//     return classes.reduce((total, cls) => total + (cls.student_count || 0), 0);\n//   };\n\n//   const getAvgPerformance = () => {\n//     if (!selectedClass || performance.length === 0) return 0;\n//     return performance.reduce((avg, student) => {\n//       return avg + parseFloat(student.average_percentage || 0);\n//     }, 0) / performance.length;\n//   };\n\n//   const getGradeClass = (percentage) => {\n//     const p = parseFloat(percentage || 0);\n//     if (p >= 90) return 'excellent';\n//     if (p >= 75) return 'good';\n//     if (p >= 50) return 'average';\n//     return 'poor';\n//   };\n\n//   if (loading && activeTab === \"overview\") {\n//     return (\n//       <div className=\"dashboard\">\n//         <div className=\"loading\">Loading classes...</div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"teacher-dashboard\">\n//       {/* HERO HEADER */}\n//       <header className=\"dashboard-header\">\n//         <div className=\"header-content\">\n//           <div className=\"header-left\">\n//             <h1>üë®‚Äçüè´ Teacher Dashboard</h1>\n//             <span className=\"quick-info\">\n//               {classes.length} Classes ‚Ä¢ {getTotalStudents()} Students\n//             </span>\n//           </div>\n//           <div className=\"user-info\">\n//             <span>{user?.email}</span>\n//             <button onClick={onLogout} className=\"logout-btn\">Logout</button>\n//           </div>\n//         </div>\n//       </header>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       {/* TABS */}\n//       <nav className=\"dashboard-tabs\">\n//         <button \n//           className={`tab ${activeTab === \"overview\" ? \"active\" : \"\"}`} \n//           onClick={() => setActiveTab(\"overview\")}\n//         >\n//           üìä Overview\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"marks\" ? \"active\" : \"\"}`} \n//           onClick={() => setActiveTab(\"marks\")}\n//         >\n//           ‚úèÔ∏è Marks Entry\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"attendance\" ? \"active\" : \"\"}`} \n//           onClick={() => setActiveTab(\"attendance\")}\n//         >\n//           üìã Attendance\n//         </button>\n//       </nav>\n\n//       <main className=\"dashboard-content\">\n//         {/* HERO STATS */}\n//         <section className=\"hero-stats\">\n//           <div className=\"stats-grid\">\n//             <div className=\"stat-card primary\">\n//               <div className=\"stat-icon\">üìö</div>\n//               <h3>Total Classes</h3>\n//               <div className=\"stat-value\">{classes.length}</div>\n//               <div className=\"stat-subtitle\">Active classes this term</div>\n//             </div>\n//             <div className=\"stat-card\">\n//               <div className=\"stat-icon\">üë•</div>\n//               <h3>Class Size</h3>\n//               <div className=\"stat-value\">\n//                 {selectedClass ? performance.length : '‚Äî'}\n//               </div>\n//               <div className=\"stat-subtitle\">{getSelectedClassName() || 'Select a class'}</div>\n//             </div>\n//             <div className=\"stat-card\">\n//               <div className=\"stat-icon\">üìà</div>\n//               <h3>Avg Performance</h3>\n//               <div className=\"stat-value\">{getAvgPerformance().toFixed(1)}%</div>\n//               <div className=\"stat-subtitle\">Class average</div>\n//             </div>\n//           </div>\n//         </section>\n\n//         {/* CLASS SELECTOR */}\n//         {classes.length > 0 && (\n//           <section className=\"class-hero-selector\">\n//             <h2 className=\"section-title\">üìñ Choose Class to Manage</h2>\n//             <div className=\"classes-hero-grid\">\n//               {classes.map((cls) => (\n//                 <div\n//                   key={cls.id}\n//                   className={`class-hero-card ${selectedClass === cls.id ? \"selected\" : \"\"}`}\n//                   onClick={() => handleClassSelect(cls.id)}\n//                 >\n//                   <div className=\"class-icon\">{cls.class_name.charAt(0)}</div>\n//                   <div className=\"class-details\">\n//                     <h3>{cls.class_name} {cls.section}</h3>\n//                     <p className=\"students-count\">{cls.student_count || 0} students</p>\n//                     {cls.teacher_name && <p className=\"teacher-name\">{cls.teacher_name}</p>}\n//                   </div>\n//                   {selectedClass === cls.id && (\n//                     <div className=\"selected-indicator\">\n//                       <span>‚úÖ Selected</span>\n//                     </div>\n//                   )}\n//                 </div>\n//               ))}\n//             </div>\n//           </section>\n//         )}\n\n//         {/* TAB CONTENT */}\n//         <section className=\"main-content\">\n//           {activeTab === \"overview\" && selectedClass && (\n//             <div className=\"overview-panel\">\n//               <div className=\"panel-header\">\n//                 <h2>üìä {getSelectedClassName()} Performance</h2>\n//                 <div className=\"panel-actions\">\n//                   <button className=\"export-btn\">üì• Export</button>\n//                   <button className=\"print-btn\">üñ®Ô∏è Print</button>\n//                 </div>\n//               </div>\n//               <div className=\"table-container\">\n//                 <table className=\"data-table\">\n//                   <thead>\n//                     <tr>\n//                       <th>Roll No</th>\n//                       <th>Student</th>\n//                       <th>Avg %</th>\n//                       <th>Subjects</th>\n//                       <th>Exams</th>\n//                       <th>Attendance</th>\n//                       <th>Action</th>\n//                     </tr>\n//                   </thead>\n//                   <tbody>\n//                     {performance.map((student) => (\n//                       <tr key={student.id}>\n//                         <td className=\"roll-number\">{student.roll_number}</td>\n//                         <td className=\"student-name\">{student.student_name}</td>\n//                         <td>\n//                           <span className={`grade-badge ${getGradeClass(student.average_percentage)}`}>\n//                             {parseFloat(student.average_percentage || 0).toFixed(1)}%\n//                           </span>\n//                         </td>\n//                         <td>{student.subjects_taken || 0}</td>\n//                         <td>{student.total_exams || 0}</td>\n//                         <td>\n//                           <span className=\"attendance-ratio\">\n//                             {student.present_days}/{student.total_days}\n//                           </span>\n//                         </td>\n//                         <td>\n//                           <div className=\"row-actions\">\n//                             <button className=\"view-btn\" title=\"View Profile\">üëÅÔ∏è</button>\n//                             <button className=\"marks-btn\" title=\"Edit Marks\">‚úèÔ∏è</button>\n//                           </div>\n//                         </td>\n//                       </tr>\n//                     ))}\n//                   </tbody>\n//                 </table>\n//               </div>\n//             </div>\n//           )}\n\n//           {/* MARKS TAB */}\n//           {activeTab === \"marks\" && (\n//             <div className=\"marks-entry-panel\">\n//               <div className=\"panel-header\">\n//                 <h2>‚úèÔ∏è Marks Entry - {getSelectedClassName()}</h2>\n//                 <div className=\"entry-actions\">\n//                   <select className=\"exam-type-select\">\n//                     <option>Unit Test 1</option>\n//                     <option>Quarterly Exam</option>\n//                     <option>Half Yearly</option>\n//                   </select>\n//                   <button className=\"bulk-entry-btn\">Bulk Entry</button>\n//                 </div>\n//               </div>\n//               <div className=\"coming-soon-placeholder\">\n//                 <p>Marks entry form for selected class will go here</p>\n//               </div>\n//             </div>\n//           )}\n\n//           {/* ATTENDANCE TAB */}\n//           {activeTab === \"attendance\" && (\n//             <div className=\"attendance-panel\">\n//               <div className=\"panel-header\">\n//                 <h2>üìã Attendance - {getSelectedClassName()}</h2>\n//                 <div className=\"attendance-actions\">\n//                   <button className=\"today-btn\">üìÖ Today</button>\n//                   <button className=\"mark-all-btn\">‚úÖ Mark All Present</button>\n//                 </div>\n//               </div>\n//               <div className=\"coming-soon-placeholder\">\n//                 <p>Attendance marking interface will go here</p>\n//               </div>\n//             </div>\n//           )}\n//         </section>\n//       </main>\n//     </div>\n//   );\n// }\n// export default TeacherDashboard;","map":{"version":3,"names":[],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/TeacherDashboard.js"],"sourcesContent":["// // frontend/src/dashboards/TeacherDashboard.js\n// import React, { useState, useEffect } from \"react\";\n// import { teacherAPI, adminAPI } from \"../api\"; // fixed import path\n// import \"./TeacherDashboard.css\";\n\n// // function TeacherDashboard({ user, onLogout }) {\n// //   const [activeTab, setActiveTab] = useState(\"overview\");\n// //   const [classes, setClasses] = useState([]);\n// //   const [selectedClass, setSelectedClass] = useState(null);\n// //   const [performance, setPerformance] = useState([]);\n// //   const [loading, setLoading] = useState(true);\n// //   const [error, setError] = useState(\"\");\n\n// //   useEffect(() => {\n// //     fetchData();\n// //   }, []);\n\n// //   const fetchData = async () => {\n// //     try {\n// //       setError(\"\");\n// //       const classesRes = await adminAPI.getClasses();\n// //       const classesData = classesRes.data || [];\n// //       setClasses(classesData);\n\n// //       if (classesData.length > 0) {\n// //         const classId = classesData[0].id;\n// //         setSelectedClass(classId);\n// //         const perfRes = await teacherAPI.getClassPerformance(classId);\n// //         setPerformance(perfRes.data || []);\n// //       }\n// //     } catch (error) {\n// //       console.error(\"Error:\", error);\n// //       setError(\"Failed to load data\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n  \n\n// //   const loadClassPerformance = async (classId) => {\n// //     try {\n// //       setLoading(true);\n// //       const perfRes = await teacherAPI.getClassPerformance(classId);\n// //       setPerformance(perfRes.data || []);\n// //     } catch (error) {\n// //       console.error(\"Class performance error:\", error);\n// //       setError(\"Failed to load class performance\");\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   const handleClassSelect = async (classId) => {\n// //     setSelectedClass(classId);\n// //     await loadClassPerformance(classId);\n// //   };\n  \n// //   if (loading && activeTab === \"overview\") {\n// //     return (\n// //       <div className=\"dashboard\">\n// //         <div className=\"loading\">Loading...</div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //   <div className=\"teacher-dashboard\">\n// //     {/* HERO HEADER */}\n// //     <header className=\"dashboard-header\">\n// //       <div className=\"header-content\">\n// //         <div className=\"header-left\">\n// //           <h1> Teacher Dashboard</h1>\n// //           <span className=\"quick-info\">\n// //             {classes.length} Classes ‚Ä¢ {totalStudents} Students\n// //           </span>\n// //         </div>\n// //         <div className=\"user-info\">\n// //           <span>{user?.email}</span>\n// //           <button onClick={onLogout} className=\"logout-btn\">Logout</button>\n// //         </div>\n// //       </div>\n// //     </header>\n\n// //     {error && <div className=\"error-banner\">{error}</div>}\n\n// //     {/* TABS */}\n// //     <nav className=\"dashboard-tabs\">\n// //       <button className={`tab ${activeTab === \"overview\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"overview\")}>\n// //          Overview\n// //       </button>\n// //       <button className={`tab ${activeTab === \"marks\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"marks\")}>\n// //          Marks Entry\n// //       </button>\n// //       <button className={`tab ${activeTab === \"attendance\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"attendance\")}>\n// //          Attendance\n// //       </button>\n// //     </nav>\n\n// //     <main className=\"dashboard-content\">\n// //       {/* HERO STATS */}\n// //       <section className=\"hero-stats\">\n// //         <div className=\"stats-grid\">\n// //           <div className=\"stat-card primary\">\n// //             <div className=\"stat-icon\">üìö</div>\n// //             <h3>Total Classes</h3>\n// //             <div className=\"stat-value\">{classes.length}</div>\n// //             <div className=\"stat-subtitle\">Active classes this term</div>\n// //           </div>\n// //           <div className=\"stat-card\">\n// //             <div className=\"stat-icon\">üë•</div>\n// //             <h3>Class Size</h3>\n// //             <div className=\"stat-value\">\n// //               {selectedClass ? performance.length : '‚Äî'}\n// //             </div>\n// //             <div className=\"stat-subtitle\">{selectedClassName || 'Select a class'}</div>\n// //           </div>\n// //           <div className=\"stat-card\">\n// //             <div className=\"stat-icon\">üìà</div>\n// //             <h3>Avg Performance</h3>\n// //             <div className=\"stat-value\">{avgPerformance}%</div>\n// //             <div className=\"stat-subtitle\">Class average</div>\n// //           </div>\n// //         </div>\n// //       </section>\n\n// //       {/* CLASS SELECTOR - FULL HERO */}\n// //       {classes.length > 0 && (\n// //         <section className=\"class-hero-selector\">\n// //           <h2 className=\"section-title\">üìñ Choose Class to Manage</h2>\n// //           <div className=\"classes-hero-grid\">\n// //             {classes.map((cls) => (\n// //               <div\n// //                 key={cls.id}\n// //                 className={`class-hero-card ${selectedClass === cls.id ? \"selected\" : \"\"}`}\n// //                 onClick={() => handleClassSelect(cls.id)}\n// //               >\n// //                 <div className=\"class-icon\">{cls.class_name.charAt(0)}</div>\n// //                 <div className=\"class-details\">\n// //                   <h3>{cls.class_name} {cls.section}</h3>\n// //                   <p className=\"students-count\">{cls.student_count || 0} students</p>\n// //                   {cls.teacher_name && <p className=\"teacher-name\">{cls.teacher_name}</p>}\n// //                 </div>\n// //                 {selectedClass === cls.id && (\n// //                   <div className=\"selected-indicator\">\n// //                     <span>‚úÖ Selected</span>\n// //                   </div>\n// //                 )}\n// //               </div>\n// //             ))}\n// //           </div>\n// //         </section>\n// //       )}\n\n// //       {/* CONTENT BASED ON TAB */}\n// //       <section className=\"main-content\">\n// //         {activeTab === \"overview\" && selectedClass && (\n// //           <div className=\"overview-panel\">\n// //             <div className=\"panel-header\">\n// //               <h2>üìä {selectedClassName} Performance</h2>\n// //               <div className=\"panel-actions\">\n// //                 <button className=\"export-btn\">üì• Export</button>\n// //                 <button className=\"print-btn\">üñ®Ô∏è Print</button>\n// //               </div>\n// //             </div>\n// //             <div className=\"table-container\">\n// //               <table className=\"data-table\">\n// //                 <thead>\n// //                   <tr>\n// //                     <th>Roll No</th>\n// //                     <th>Student</th>\n// //                     <th>Avg %</th>\n// //                     <th>Subjects</th>\n// //                     <th>Exams</th>\n// //                     <th>Attendance</th>\n// //                     <th>Action</th>\n// //                   </tr>\n// //                 </thead>\n// //                 <tbody>\n// //                   {performance.map((student) => (\n// //                     <tr key={student.id}>\n// //                       <td className=\"roll-number\">{student.roll_number}</td>\n// //                       <td className=\"student-name\">{student.student_name}</td>\n// //                       <td>\n// //                         <span className={`grade-badge ${getGradeClass(student.average_percentage)}`}>\n// //                           {parseFloat(student.average_percentage || 0).toFixed(1)}%\n// //                         </span>\n// //                       </td>\n// //                       <td>{student.subjects_taken || 0}</td>\n// //                       <td>{student.total_exams || 0}</td>\n// //                       <td>\n// //                         <span className=\"attendance-ratio\">\n// //                           {student.present_days}/{student.total_days}\n// //                         </span>\n// //                       </td>\n// //                       <td>\n// //                         <div className=\"row-actions\">\n// //                           <button className=\"view-btn\">üëÅÔ∏è</button>\n// //                           <button className=\"marks-btn\">‚úèÔ∏è</button>\n// //                         </div>\n// //                       </td>\n// //                     </tr>\n// //                   ))}\n// //                 </tbody>\n// //               </table>\n// //             </div>\n// //           </div>\n// //         )}\n\n// //         {/* MARKS ENTRY TAB */}\n// //         {activeTab === \"marks\" && (\n// //           <div className=\"marks-entry-panel\">\n// //             <div className=\"panel-header\">\n// //               <h2>‚úèÔ∏è Marks Entry - {selectedClassName}</h2>\n// //               <div className=\"entry-actions\">\n// //                 <select className=\"exam-type-select\">\n// //                   <option>Unit Test 1</option>\n// //                   <option>Quarterly</option>\n// //                 </select>\n// //                 <button className=\"bulk-entry-btn\">Bulk Entry</button>\n// //               </div>\n// //             </div>\n// //             <p className=\"coming-soon\">Marks entry form coming soon...</p>\n// //           </div>\n// //         )}\n\n// //         {/* ATTENDANCE TAB */}\n// //         {activeTab === \"attendance\" && (\n// //           <div className=\"attendance-panel\">\n// //             <div className=\"panel-header\">\n// //               <h2>üìã Attendance - {selectedClassName}</h2>\n// //               <div className=\"attendance-actions\">\n// //                 <button className=\"today-btn\">üìÖ Today</button>\n// //                 <button className=\"mark-all-btn\">‚úÖ Mark All Present</button>\n// //               </div>\n// //             </div>\n// //             <p className=\"coming-soon\">Attendance interface coming soon...</p>\n// //           </div>\n// //         )}\n// //       </section>\n// //     </main>\n// //   </div>\n// // );\n\n// // }\n\n// // export default TeacherDashboard;\n// function TeacherDashboard({ user, onLogout }) {\n//   const [activeTab, setActiveTab] = useState(\"overview\");\n//   const [classes, setClasses] = useState([]);\n//   const [selectedClass, setSelectedClass] = useState(null);\n//   const [performance, setPerformance] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(\"\");\n\n//   useEffect(() => {\n//     fetchData();\n//   }, []);\n\n//   const fetchData = async () => {\n//     try {\n//       setError(\"\");\n//       const classesRes = await adminAPI.getClasses();\n//       const classesData = classesRes.data || [];\n//       setClasses(classesData);\n\n//       if (classesData.length > 0) {\n//         const classId = classesData[0].id;\n//         setSelectedClass(classId);\n//         const perfRes = await teacherAPI.getClassPerformance(classId);\n//         setPerformance(perfRes.data || []);\n//       }\n//     } catch (error) {\n//       console.error(\"Error:\", error);\n//       setError(\"Failed to load data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const loadClassPerformance = async (classId) => {\n//     try {\n//       setLoading(true);\n//       const perfRes = await teacherAPI.getClassPerformance(classId);\n//       setPerformance(perfRes.data || []);\n//     } catch (error) {\n//       console.error(\"Class performance error:\", error);\n//       setError(\"Failed to load class performance\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleClassSelect = async (classId) => {\n//     setSelectedClass(classId);\n//     await loadClassPerformance(classId);\n//   };\n\n//   // ‚úÖ HELPER FUNCTIONS (All included)\n//   const getSelectedClassName = () => {\n//     const cls = classes.find(c => c.id === selectedClass);\n//     return cls ? `${cls.class_name} ${cls.section}` : '';\n//   };\n\n//   const getTotalStudents = () => {\n//     return classes.reduce((total, cls) => total + (cls.student_count || 0), 0);\n//   };\n\n//   const getAvgPerformance = () => {\n//     if (!selectedClass || performance.length === 0) return 0;\n//     return performance.reduce((avg, student) => {\n//       return avg + parseFloat(student.average_percentage || 0);\n//     }, 0) / performance.length;\n//   };\n\n//   const getGradeClass = (percentage) => {\n//     const p = parseFloat(percentage || 0);\n//     if (p >= 90) return 'excellent';\n//     if (p >= 75) return 'good';\n//     if (p >= 50) return 'average';\n//     return 'poor';\n//   };\n\n//   if (loading && activeTab === \"overview\") {\n//     return (\n//       <div className=\"dashboard\">\n//         <div className=\"loading\">Loading classes...</div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"teacher-dashboard\">\n//       {/* HERO HEADER */}\n//       <header className=\"dashboard-header\">\n//         <div className=\"header-content\">\n//           <div className=\"header-left\">\n//             <h1>üë®‚Äçüè´ Teacher Dashboard</h1>\n//             <span className=\"quick-info\">\n//               {classes.length} Classes ‚Ä¢ {getTotalStudents()} Students\n//             </span>\n//           </div>\n//           <div className=\"user-info\">\n//             <span>{user?.email}</span>\n//             <button onClick={onLogout} className=\"logout-btn\">Logout</button>\n//           </div>\n//         </div>\n//       </header>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       {/* TABS */}\n//       <nav className=\"dashboard-tabs\">\n//         <button \n//           className={`tab ${activeTab === \"overview\" ? \"active\" : \"\"}`} \n//           onClick={() => setActiveTab(\"overview\")}\n//         >\n//           üìä Overview\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"marks\" ? \"active\" : \"\"}`} \n//           onClick={() => setActiveTab(\"marks\")}\n//         >\n//           ‚úèÔ∏è Marks Entry\n//         </button>\n//         <button \n//           className={`tab ${activeTab === \"attendance\" ? \"active\" : \"\"}`} \n//           onClick={() => setActiveTab(\"attendance\")}\n//         >\n//           üìã Attendance\n//         </button>\n//       </nav>\n\n//       <main className=\"dashboard-content\">\n//         {/* HERO STATS */}\n//         <section className=\"hero-stats\">\n//           <div className=\"stats-grid\">\n//             <div className=\"stat-card primary\">\n//               <div className=\"stat-icon\">üìö</div>\n//               <h3>Total Classes</h3>\n//               <div className=\"stat-value\">{classes.length}</div>\n//               <div className=\"stat-subtitle\">Active classes this term</div>\n//             </div>\n//             <div className=\"stat-card\">\n//               <div className=\"stat-icon\">üë•</div>\n//               <h3>Class Size</h3>\n//               <div className=\"stat-value\">\n//                 {selectedClass ? performance.length : '‚Äî'}\n//               </div>\n//               <div className=\"stat-subtitle\">{getSelectedClassName() || 'Select a class'}</div>\n//             </div>\n//             <div className=\"stat-card\">\n//               <div className=\"stat-icon\">üìà</div>\n//               <h3>Avg Performance</h3>\n//               <div className=\"stat-value\">{getAvgPerformance().toFixed(1)}%</div>\n//               <div className=\"stat-subtitle\">Class average</div>\n//             </div>\n//           </div>\n//         </section>\n\n//         {/* CLASS SELECTOR */}\n//         {classes.length > 0 && (\n//           <section className=\"class-hero-selector\">\n//             <h2 className=\"section-title\">üìñ Choose Class to Manage</h2>\n//             <div className=\"classes-hero-grid\">\n//               {classes.map((cls) => (\n//                 <div\n//                   key={cls.id}\n//                   className={`class-hero-card ${selectedClass === cls.id ? \"selected\" : \"\"}`}\n//                   onClick={() => handleClassSelect(cls.id)}\n//                 >\n//                   <div className=\"class-icon\">{cls.class_name.charAt(0)}</div>\n//                   <div className=\"class-details\">\n//                     <h3>{cls.class_name} {cls.section}</h3>\n//                     <p className=\"students-count\">{cls.student_count || 0} students</p>\n//                     {cls.teacher_name && <p className=\"teacher-name\">{cls.teacher_name}</p>}\n//                   </div>\n//                   {selectedClass === cls.id && (\n//                     <div className=\"selected-indicator\">\n//                       <span>‚úÖ Selected</span>\n//                     </div>\n//                   )}\n//                 </div>\n//               ))}\n//             </div>\n//           </section>\n//         )}\n\n//         {/* TAB CONTENT */}\n//         <section className=\"main-content\">\n//           {activeTab === \"overview\" && selectedClass && (\n//             <div className=\"overview-panel\">\n//               <div className=\"panel-header\">\n//                 <h2>üìä {getSelectedClassName()} Performance</h2>\n//                 <div className=\"panel-actions\">\n//                   <button className=\"export-btn\">üì• Export</button>\n//                   <button className=\"print-btn\">üñ®Ô∏è Print</button>\n//                 </div>\n//               </div>\n//               <div className=\"table-container\">\n//                 <table className=\"data-table\">\n//                   <thead>\n//                     <tr>\n//                       <th>Roll No</th>\n//                       <th>Student</th>\n//                       <th>Avg %</th>\n//                       <th>Subjects</th>\n//                       <th>Exams</th>\n//                       <th>Attendance</th>\n//                       <th>Action</th>\n//                     </tr>\n//                   </thead>\n//                   <tbody>\n//                     {performance.map((student) => (\n//                       <tr key={student.id}>\n//                         <td className=\"roll-number\">{student.roll_number}</td>\n//                         <td className=\"student-name\">{student.student_name}</td>\n//                         <td>\n//                           <span className={`grade-badge ${getGradeClass(student.average_percentage)}`}>\n//                             {parseFloat(student.average_percentage || 0).toFixed(1)}%\n//                           </span>\n//                         </td>\n//                         <td>{student.subjects_taken || 0}</td>\n//                         <td>{student.total_exams || 0}</td>\n//                         <td>\n//                           <span className=\"attendance-ratio\">\n//                             {student.present_days}/{student.total_days}\n//                           </span>\n//                         </td>\n//                         <td>\n//                           <div className=\"row-actions\">\n//                             <button className=\"view-btn\" title=\"View Profile\">üëÅÔ∏è</button>\n//                             <button className=\"marks-btn\" title=\"Edit Marks\">‚úèÔ∏è</button>\n//                           </div>\n//                         </td>\n//                       </tr>\n//                     ))}\n//                   </tbody>\n//                 </table>\n//               </div>\n//             </div>\n//           )}\n\n//           {/* MARKS TAB */}\n//           {activeTab === \"marks\" && (\n//             <div className=\"marks-entry-panel\">\n//               <div className=\"panel-header\">\n//                 <h2>‚úèÔ∏è Marks Entry - {getSelectedClassName()}</h2>\n//                 <div className=\"entry-actions\">\n//                   <select className=\"exam-type-select\">\n//                     <option>Unit Test 1</option>\n//                     <option>Quarterly Exam</option>\n//                     <option>Half Yearly</option>\n//                   </select>\n//                   <button className=\"bulk-entry-btn\">Bulk Entry</button>\n//                 </div>\n//               </div>\n//               <div className=\"coming-soon-placeholder\">\n//                 <p>Marks entry form for selected class will go here</p>\n//               </div>\n//             </div>\n//           )}\n\n//           {/* ATTENDANCE TAB */}\n//           {activeTab === \"attendance\" && (\n//             <div className=\"attendance-panel\">\n//               <div className=\"panel-header\">\n//                 <h2>üìã Attendance - {getSelectedClassName()}</h2>\n//                 <div className=\"attendance-actions\">\n//                   <button className=\"today-btn\">üìÖ Today</button>\n//                   <button className=\"mark-all-btn\">‚úÖ Mark All Present</button>\n//                 </div>\n//               </div>\n//               <div className=\"coming-soon-placeholder\">\n//                 <p>Attendance marking interface will go here</p>\n//               </div>\n//             </div>\n//           )}\n//         </section>\n//       </main>\n//     </div>\n//   );\n// }\n// export default TeacherDashboard;"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}