{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\n// import Login from '../components/Login';\n// import AdminDashboard from './AdminDashboard';\n// import TeacherDashboard from './TeacherDashboard';\n\n// function App() {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     // Check localStorage on boot\n//     const storedUser = localStorage.getItem('user');\n//     if (storedUser) {\n//       try {\n//         setUser(JSON.parse(storedUser));\n//       } catch (error) {\n//         localStorage.clear();\n//       }\n//     }\n//     setLoading(false); // Stop loading after check\n//   }, []);\n\n//   const handleLogin = (data) => {\n//     // data comes from res.data (contains {user, token})\n//     setUser(data.user);\n//     localStorage.setItem('user', JSON.stringify(data.user));\n//     localStorage.setItem('token', data.token);\n//   };\n\n//   const handleLogout = () => {\n//     setUser(null);\n//     localStorage.clear();\n//   };\n\n//   if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n//   return (\n//     <Router>\n//       <Routes>\n//         <Route \n//           path=\"/login\" \n//           element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />} \n//         />\n\n//         <Route\n//           path=\"/dashboard\"\n//           element={\n//             user ? (\n//               user.role === 'admin' ? (\n//                 <AdminDashboard user={user} onLogout={handleLogout} />\n//               ) : (\n//                 <TeacherDashboard user={user} onLogout={handleLogout} />\n//               )\n//             ) : (\n//               <Navigate to=\"/login\" replace />\n//             )\n//           }\n//         />\n\n//         <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n//       </Routes>\n//     </Router>\n//   );\n// }\n\n// export default App;\n// import React, { useState, useEffect } from 'react';\n// import { Routes, Route, Navigate } from 'react-router-dom';\n// import Login from '../components/Login';\n// import AdminDashboard from './AdminDashboard';\n// import TeacherDashboard from './TeacherDashboard';\n\n// function App() {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     const storedUser = localStorage.getItem('user');\n\n//     if (storedUser) {\n//       try {\n//         setUser(JSON.parse(storedUser));\n//       } catch (error) {\n//         localStorage.clear();\n//       }\n//     }\n\n//     setLoading(false);\n//   }, []);\n\n//   const handleLogin = (data) => {\n//     setUser(data.user);\n//     localStorage.setItem('user', JSON.stringify(data.user));\n//     localStorage.setItem('token', data.token);\n//   };\n\n//   const handleLogout = () => {\n//     setUser(null);\n//     localStorage.clear();\n//   };\n\n//   if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n//   return (\n//     <Routes>\n//       <Route\n//         path=\"/login\"\n//         element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />}\n//       />\n\n//       <Route\n//         path=\"/dashboard\"\n//         element={\n//           user ? (\n//             user.role === 'admin' ? (\n//               <AdminDashboard user={user} onLogout={handleLogout} />\n//             ) : (\n//               <TeacherDashboard user={user} onLogout={handleLogout} />\n//             )\n//           ) : (\n//             <Navigate to=\"/login\" replace />\n//           )\n//         }\n//       />\n\n//       <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n//     </Routes>\n//   );\n// }\n\n// export default App;","map":{"version":3,"names":[],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\n// import Login from '../components/Login';\n// import AdminDashboard from './AdminDashboard';\n// import TeacherDashboard from './TeacherDashboard';\n\n// function App() {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     // Check localStorage on boot\n//     const storedUser = localStorage.getItem('user');\n//     if (storedUser) {\n//       try {\n//         setUser(JSON.parse(storedUser));\n//       } catch (error) {\n//         localStorage.clear();\n//       }\n//     }\n//     setLoading(false); // Stop loading after check\n//   }, []);\n\n//   const handleLogin = (data) => {\n//     // data comes from res.data (contains {user, token})\n//     setUser(data.user);\n//     localStorage.setItem('user', JSON.stringify(data.user));\n//     localStorage.setItem('token', data.token);\n//   };\n\n//   const handleLogout = () => {\n//     setUser(null);\n//     localStorage.clear();\n//   };\n\n//   if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n//   return (\n//     <Router>\n//       <Routes>\n//         <Route \n//           path=\"/login\" \n//           element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />} \n//         />\n\n//         <Route\n//           path=\"/dashboard\"\n//           element={\n//             user ? (\n//               user.role === 'admin' ? (\n//                 <AdminDashboard user={user} onLogout={handleLogout} />\n//               ) : (\n//                 <TeacherDashboard user={user} onLogout={handleLogout} />\n//               )\n//             ) : (\n//               <Navigate to=\"/login\" replace />\n//             )\n//           }\n//         />\n\n//         <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n//       </Routes>\n//     </Router>\n//   );\n// }\n\n// export default App;\n// import React, { useState, useEffect } from 'react';\n// import { Routes, Route, Navigate } from 'react-router-dom';\n// import Login from '../components/Login';\n// import AdminDashboard from './AdminDashboard';\n// import TeacherDashboard from './TeacherDashboard';\n\n// function App() {\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     const storedUser = localStorage.getItem('user');\n\n//     if (storedUser) {\n//       try {\n//         setUser(JSON.parse(storedUser));\n//       } catch (error) {\n//         localStorage.clear();\n//       }\n//     }\n\n//     setLoading(false);\n//   }, []);\n\n//   const handleLogin = (data) => {\n//     setUser(data.user);\n//     localStorage.setItem('user', JSON.stringify(data.user));\n//     localStorage.setItem('token', data.token);\n//   };\n\n//   const handleLogout = () => {\n//     setUser(null);\n//     localStorage.clear();\n//   };\n\n//   if (loading) return <div className=\"loading\">Initializing System...</div>;\n\n//   return (\n//     <Routes>\n//       <Route\n//         path=\"/login\"\n//         element={!user ? <Login onLogin={handleLogin} /> : <Navigate to=\"/dashboard\" replace />}\n//       />\n\n//       <Route\n//         path=\"/dashboard\"\n//         element={\n//           user ? (\n//             user.role === 'admin' ? (\n//               <AdminDashboard user={user} onLogout={handleLogout} />\n//             ) : (\n//               <TeacherDashboard user={user} onLogout={handleLogout} />\n//             )\n//           ) : (\n//             <Navigate to=\"/login\" replace />\n//           )\n//         }\n//       />\n\n//       <Route path=\"/\" element={<Navigate to={user ? \"/dashboard\" : \"/login\"} replace />} />\n//     </Routes>\n//   );\n// }\n\n// export default App;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}