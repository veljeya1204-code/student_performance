{"ast":null,"code":"// // frontend/src/dashboards/AdminDashboard.js - COMPLETE FIXED VERSION\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ FIXED: loadData extracted for Refresh button\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n\n//       const [studentsRes, teachersRes, parentsRes, classesRes] =\n//         await Promise.all([\n//           adminAPI.getStudents(),\n//           adminAPI.getTeachers(),\n//           adminAPI.getParents(),\n//           adminAPI.getClasses(),\n//         ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n//       console.log(studentsData)\n//       console.log(teachersData)\n//       console.log(parentsData)\n//       console.log(classesData)\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // ‚úÖ Simplified useEffect\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       {/* ‚úÖ REFRESH BUTTON - Works now! */}\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Students</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No students found</td>\n//             </tr>\n//           )}\n//           {students.map((s) => (\n//             <tr key={s.id}>\n//               <td>{`${s.first_name || \"\"} ${s.last_name || \"\"}`.trim()}</td>\n//               <td>\n//                 {s.class_name}\n//                 {s.section ? ` - ${s.section}` : \"\"}\n//               </td>\n//               <td>{s.roll_number}</td>\n//               <td>{s.email}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Teachers</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No teachers found</td>\n//             </tr>\n//           )}\n//           {teachers.map((t) => (\n//             <tr key={t.id}>\n//               <td>{`${t.first_name || \"\"} ${t.last_name || \"\"}`.trim()}</td>\n//               <td>{t.department}</td>\n//               <td>{t.phone}</td>\n//               <td>{t.email}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Parents</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No parents found</td>\n//             </tr>\n//           )}\n//           {parents.map((p) => (\n//             <tr key={p.id}>\n//               <td>{`${p.first_name || \"\"} ${p.last_name || \"\"}`.trim()}</td>\n//               <td>\n//                 {Array.isArray(p.children) && p.children.length > 0\n//                   ? p.children.map((c) => c.name).join(\", \")\n//                   : \"‚Äî\"}\n//               </td>\n//               <td>{p.phone}</td>\n//               <td>{p.email}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Classes</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No classes found</td>\n//             </tr>\n//           )}\n//           {classes.map((c) => (\n//             <tr key={c.id}>\n//               <td>{c.class_name}</td>\n//               <td>{c.section}</td>\n//               <td>{c.teacher_name || \"Unassigned\"}</td>\n//               <td>{c.student_count}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // if (loading) {\n//   //   return (\n//   //     <div className=\"dashboard-container\">\n//   //       <div className=\"dashboard-header\">\n//   //         <h2>Admin Dashboard</h2>\n//   //       </div>\n//   //       <p>Loading...</p>\n//   //     </div>\n//   //   );\n//   // }\n//   if (loading) {\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//       </div>\n//       <div className=\"skeleton-loader\">\n//         <div className=\"admin-overview-grid\">\n//           <div className=\"skeleton-stat\"></div>\n//           <div className=\"skeleton-stat\"></div>\n//           <div className=\"skeleton-stat\"></div>\n//           <div className=\"skeleton-stat\"></div>\n//         </div>\n//         <div className=\"skeleton-table\">\n//           <div className=\"skeleton-row\"></div>\n//           <div className=\"skeleton-row\"></div>\n//           <div className=\"skeleton-row\"></div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button\n//           className={tab === \"overview\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"overview\")}\n//         >\n//           Overview\n//         </button>\n//         <button\n//           className={tab === \"students\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"students\")}\n//         >\n//           Students\n//         </button>\n//         <button\n//           className={tab === \"teachers\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"teachers\")}\n//         >\n//           Teachers\n//         </button>\n//         <button\n//           className={tab === \"parents\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"parents\")}\n//         >\n//           Parents\n//         </button>\n//         <button\n//           className={tab === \"classes\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"classes\")}\n//         >\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ students: false, teachers: false, parents: false, classes: false });\n//   const [createForms, setCreateForms] = useState({});\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS\n//   const handleDelete = async (deleteFn, id, entityName) => {\n//     if (!confirm(`Delete this ${entityName}?`)) return;\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     }\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { const newForms = { ...prev }; delete newForms[entity]; return newForms; });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || '' || s.first_name}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => handleDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || '' || t.first_name}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => handleDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || '' || p.first_name}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => handleDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => handleDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS (Simple forms)\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       teachers: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'department', label: 'Department', type: 'text' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ \n//     students: false, \n//     teachers: false, \n//     parents: false, \n//     classes: false \n//   });\n//   const [createForms, setCreateForms] = useState({});\n\n//   // ‚úÖ CONFIRMATION MODAL STATE (FIXES ESLint ERROR)\n//   const [confirmDialog, setConfirmDialog] = useState({\n//     show: false,\n//     title: '',\n//     message: '',\n//     onConfirm: null,\n//     entityName: ''\n//   });\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS (REPLACED confirm() WITH CUSTOM MODAL)\n//   const showConfirm = (title, message, onConfirm, entityName) => {\n//     setConfirmDialog({\n//       show: true,\n//       title,\n//       message,\n//       onConfirm,\n//       entityName\n//     });\n//   };\n\n//   const handleConfirmDelete = async (deleteFn, id, entityName) => {\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     } finally {\n//       setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' });\n//     }\n//   };\n\n//   const confirmDelete = (deleteFn, id, entityName) => {\n//     showConfirm(\n//       'Confirm Delete',\n//       `Are you sure you want to delete this ${entityName}? This action cannot be undone.`,\n//       () => handleConfirmDelete(deleteFn, id, entityName),\n//       entityName\n//     );\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { \n//       const newForms = { ...prev }; \n//       delete newForms[entity]; \n//       return newForms; \n//     });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || s.first_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => confirmDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || t.first_name || ''}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || p.first_name || ''}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       // teachers: [\n//       //   { key: 'first_name', label: 'First Name', type: 'text' },\n//       //   { key: 'last_name', label: 'Last Name', type: 'text' },\n//       //   { key: 'email', label: 'Email', type: 'email' },\n//       //   { key: 'department', label: 'Department', type: 'text' },\n//       //   { key: 'phone', label: 'Phone', type: 'tel' }\n//       // ],\n//       teachers: [\n//      { key: 'first_name', label: 'First Name', type: 'text' },\n//      { key: 'last_name', label: 'Last Name', type: 'text' },\n//      { key: 'email', label: 'Email', type: 'email' },\n//      { key: 'department', label: 'Department', type: 'text' },\n//      { key: 'phone', label: 'Phone', type: 'tel' },\n\n//   // ‚úÖ Added fields\n//      { key: 'qualification', label: 'Qualification', type: 'text' },\n//      { key: 'hire_date', label: 'Hire Date', type: 'date' }\n//      ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   // ‚úÖ CONFIRM DELETE MODAL (FIXES ESLint)\n//   const renderConfirmDialog = () => {\n//     if (!confirmDialog.show) return null;\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal confirm-modal\">\n//           <h3>{confirmDialog.title}</h3>\n//           <p>{confirmDialog.message}</p>\n//           <div className=\"modal-actions\">\n//             <button \n//               onClick={confirmDialog.onConfirm} \n//               className=\"btn btn-danger\"\n//             >\n//               ‚úÖ Yes, Delete\n//             </button>\n//             <button \n//               onClick={() => setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' })}\n//               className=\"btn btn-secondary\"\n//             >\n//               ‚ùå Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//         {renderConfirmDialog()} {/* ‚úÖ ADDED CONFIRM MODAL */}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;","map":{"version":3,"names":[],"sources":["/Users/jeyamurugan/Downloads/student/frontend/src/dashboards/AdminDashboard.js"],"sourcesContent":["// // frontend/src/dashboards/AdminDashboard.js - COMPLETE FIXED VERSION\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ FIXED: loadData extracted for Refresh button\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n\n//       const [studentsRes, teachersRes, parentsRes, classesRes] =\n//         await Promise.all([\n//           adminAPI.getStudents(),\n//           adminAPI.getTeachers(),\n//           adminAPI.getParents(),\n//           adminAPI.getClasses(),\n//         ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n//       console.log(studentsData)\n//       console.log(teachersData)\n//       console.log(parentsData)\n//       console.log(classesData)\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n  \n//   // ‚úÖ Simplified useEffect\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       {/* ‚úÖ REFRESH BUTTON - Works now! */}\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Students</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No students found</td>\n//             </tr>\n//           )}\n//           {students.map((s) => (\n//             <tr key={s.id}>\n//               <td>{`${s.first_name || \"\"} ${s.last_name || \"\"}`.trim()}</td>\n//               <td>\n//                 {s.class_name}\n//                 {s.section ? ` - ${s.section}` : \"\"}\n//               </td>\n//               <td>{s.roll_number}</td>\n//               <td>{s.email}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Teachers</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No teachers found</td>\n//             </tr>\n//           )}\n//           {teachers.map((t) => (\n//             <tr key={t.id}>\n//               <td>{`${t.first_name || \"\"} ${t.last_name || \"\"}`.trim()}</td>\n//               <td>{t.department}</td>\n//               <td>{t.phone}</td>\n//               <td>{t.email}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Parents</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No parents found</td>\n//             </tr>\n//           )}\n//           {parents.map((p) => (\n//             <tr key={p.id}>\n//               <td>{`${p.first_name || \"\"} ${p.last_name || \"\"}`.trim()}</td>\n//               <td>\n//                 {Array.isArray(p.children) && p.children.length > 0\n//                   ? p.children.map((c) => c.name).join(\", \")\n//                   : \"‚Äî\"}\n//               </td>\n//               <td>{p.phone}</td>\n//               <td>{p.email}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <h3>Classes</h3>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr>\n//               <td colSpan={4}>No classes found</td>\n//             </tr>\n//           )}\n//           {classes.map((c) => (\n//             <tr key={c.id}>\n//               <td>{c.class_name}</td>\n//               <td>{c.section}</td>\n//               <td>{c.teacher_name || \"Unassigned\"}</td>\n//               <td>{c.student_count}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // if (loading) {\n//   //   return (\n//   //     <div className=\"dashboard-container\">\n//   //       <div className=\"dashboard-header\">\n//   //         <h2>Admin Dashboard</h2>\n//   //       </div>\n//   //       <p>Loading...</p>\n//   //     </div>\n//   //   );\n//   // }\n//   if (loading) {\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//       </div>\n//       <div className=\"skeleton-loader\">\n//         <div className=\"admin-overview-grid\">\n//           <div className=\"skeleton-stat\"></div>\n//           <div className=\"skeleton-stat\"></div>\n//           <div className=\"skeleton-stat\"></div>\n//           <div className=\"skeleton-stat\"></div>\n//         </div>\n//         <div className=\"skeleton-table\">\n//           <div className=\"skeleton-row\"></div>\n//           <div className=\"skeleton-row\"></div>\n//           <div className=\"skeleton-row\"></div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button\n//           className={tab === \"overview\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"overview\")}\n//         >\n//           Overview\n//         </button>\n//         <button\n//           className={tab === \"students\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"students\")}\n//         >\n//           Students\n//         </button>\n//         <button\n//           className={tab === \"teachers\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"teachers\")}\n//         >\n//           Teachers\n//         </button>\n//         <button\n//           className={tab === \"parents\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"parents\")}\n//         >\n//           Parents\n//         </button>\n//         <button\n//           className={tab === \"classes\" ? \"tab active\" : \"tab\"}\n//           onClick={() => setTab(\"classes\")}\n//         >\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ students: false, teachers: false, parents: false, classes: false });\n//   const [createForms, setCreateForms] = useState({});\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS\n//   const handleDelete = async (deleteFn, id, entityName) => {\n//     if (!confirm(`Delete this ${entityName}?`)) return;\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     }\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { const newForms = { ...prev }; delete newForms[entity]; return newForms; });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || '' || s.first_name}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => handleDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || '' || t.first_name}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => handleDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || '' || p.first_name}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => handleDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => handleDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS (Simple forms)\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       teachers: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'department', label: 'Department', type: 'text' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n\n// import React, { useEffect, useState } from \"react\";\n// import { adminAPI } from \"../api\";\n// import \"./AdminDashboard.css\";\n\n// function AdminDashboard({ user, onLogout }) {\n//   const [stats, setStats] = useState({\n//     totalStudents: 0,\n//     totalTeachers: 0,\n//     totalParents: 0,\n//     totalClasses: 0,\n//   });\n//   const [students, setStudents] = useState([]);\n//   const [teachers, setTeachers] = useState([]);\n//   const [parents, setParents] = useState([]);\n//   const [classes, setClasses] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [tab, setTab] = useState(\"overview\");\n//   const [error, setError] = useState(\"\");\n\n//   // ‚úÖ CRUD STATES\n//   const [editingId, setEditingId] = useState(null);\n//   const [editForms, setEditForms] = useState({});\n//   const [showCreateModal, setShowCreateModal] = useState({ \n//     students: false, \n//     teachers: false, \n//     parents: false, \n//     classes: false \n//   });\n//   const [createForms, setCreateForms] = useState({});\n\n//   // ‚úÖ CONFIRMATION MODAL STATE (FIXES ESLint ERROR)\n//   const [confirmDialog, setConfirmDialog] = useState({\n//     show: false,\n//     title: '',\n//     message: '',\n//     onConfirm: null,\n//     entityName: ''\n//   });\n\n//   const loadData = async () => {\n//     try {\n//       setLoading(true);\n//       setError(\"\");\n//       const [studentsRes, teachersRes, parentsRes, classesRes] = await Promise.all([\n//         adminAPI.getStudents(),\n//         adminAPI.getTeachers(),\n//         adminAPI.getParents(),\n//         adminAPI.getClasses(),\n//       ]);\n\n//       const studentsData = studentsRes.data || [];\n//       const teachersData = teachersRes.data || [];\n//       const parentsData = parentsRes.data || [];\n//       const classesData = classesRes.data || [];\n\n//       setStudents(studentsData);\n//       setTeachers(teachersData);\n//       setParents(parentsData);\n//       setClasses(classesData);\n\n//       setStats({\n//         totalStudents: studentsData.length,\n//         totalTeachers: teachersData.length,\n//         totalParents: parentsData.length,\n//         totalClasses: classesData.length,\n//       });\n//     } catch (err) {\n//       console.error(err);\n//       setError(\"Failed to load admin data\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // ‚úÖ SHARED CRUD HANDLERS (REPLACED confirm() WITH CUSTOM MODAL)\n//   const showConfirm = (title, message, onConfirm, entityName) => {\n//     setConfirmDialog({\n//       show: true,\n//       title,\n//       message,\n//       onConfirm,\n//       entityName\n//     });\n//   };\n\n//   const handleConfirmDelete = async (deleteFn, id, entityName) => {\n//     try {\n//       await deleteFn(id);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to delete ${entityName}`);\n//     } finally {\n//       setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' });\n//     }\n//   };\n\n//   const confirmDelete = (deleteFn, id, entityName) => {\n//     showConfirm(\n//       'Confirm Delete',\n//       `Are you sure you want to delete this ${entityName}? This action cannot be undone.`,\n//       () => handleConfirmDelete(deleteFn, id, entityName),\n//       entityName\n//     );\n//   };\n\n//   const startEdit = (entity, id) => {\n//     setEditingId(id);\n//     setEditForms(prev => ({ ...prev, [id]: { ...entity } }));\n//   };\n\n//   const updateEditField = (id, field, value) => {\n//     setEditForms(prev => ({\n//       ...prev,\n//       [id]: { ...prev[id], [field]: value }\n//     }));\n//   };\n\n//   const saveEdit = async (updateFn, id) => {\n//     try {\n//       await updateFn(id, editForms[id]);\n//       setEditingId(null);\n//       setEditForms({});\n//       loadData();\n//     } catch (err) {\n//       setError('Update failed');\n//     }\n//   };\n\n//   const cancelEdit = () => {\n//     setEditingId(null);\n//     setEditForms({});\n//   };\n\n//   const openCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: true }));\n//     setCreateForms(prev => ({ ...prev, [entity]: {} }));\n//   };\n\n//   const closeCreateModal = (entity) => {\n//     setShowCreateModal(prev => ({ ...prev, [entity]: false }));\n//     setCreateForms(prev => { \n//       const newForms = { ...prev }; \n//       delete newForms[entity]; \n//       return newForms; \n//     });\n//   };\n\n//   const updateCreateField = (entity, field, value) => {\n//     setCreateForms(prev => ({\n//       ...prev,\n//       [entity]: { ...prev[entity], [field]: value }\n//     }));\n//   };\n\n//   const handleCreate = async (createFn, entity) => {\n//     try {\n//       await createFn(createForms[entity]);\n//       closeCreateModal(entity);\n//       loadData();\n//     } catch (err) {\n//       setError(`Failed to create ${entity}`);\n//     }\n//   };\n\n//   const renderOverview = () => (\n//     <div className=\"admin-overview-grid\">\n//       <div className=\"stat-card\">\n//         <h3>Total Students</h3>\n//         <p>{stats.totalStudents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Teachers</h3>\n//         <p>{stats.totalTeachers}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Parents</h3>\n//         <p>{stats.totalParents}</p>\n//       </div>\n//       <div className=\"stat-card\">\n//         <h3>Total Classes</h3>\n//         <p>{stats.totalClasses}</p>\n//       </div>\n//       <div className=\"stat-card full-width\">\n//         <button onClick={loadData} className=\"btn btn-primary\">\n//           üîÑ Refresh Data\n//         </button>\n//       </div>\n//     </div>\n//   );\n\n//   // ‚úÖ STUDENTS TABLE WITH CRUD\n//   const renderStudents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Students</h3>\n//         <button onClick={() => openCreateModal('students')} className=\"btn btn-primary\">\n//           ‚ûï Add New Student\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Class</th>\n//             <th>Roll</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {students.length === 0 && (\n//             <tr><td colSpan={5}>No students found</td></tr>\n//           )}\n//           {students.map((s) => {\n//             const isEditing = editingId === s.id;\n//             const formData = editForms[s.id] || {};\n//             return (\n//               <tr key={s.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || s.first_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.first_name || ''} ${s.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || s.class_name || ''}\n//                       onChange={(e) => updateEditField(s.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${s.class_name || ''}${s.section ? ` - ${s.section}` : ''}` || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.roll_number || s.roll_number || ''}\n//                       onChange={(e) => updateEditField(s.id, 'roll_number', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : s.roll_number || 'N/A'}\n//                 </td>\n//                 <td>{s.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button \n//                         onClick={() => saveEdit(adminAPI.updateStudent, s.id)}\n//                         className=\"btn btn-success btn-sm\"\n//                       >\n//                         üíæ Save\n//                       </button>\n//                       <button \n//                         onClick={cancelEdit}\n//                         className=\"btn btn-secondary btn-sm\"\n//                       >\n//                         ‚ùå Cancel\n//                       </button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button \n//                         onClick={() => startEdit(s, s.id)}\n//                         className=\"btn btn-warning btn-sm\"\n//                       >\n//                         ‚úèÔ∏è Edit\n//                       </button>\n//                       <button \n//                         onClick={() => confirmDelete(adminAPI.deleteStudent, s.id, 'student')}\n//                         className=\"btn btn-danger btn-sm\"\n//                       >\n//                         üóëÔ∏è Delete\n//                       </button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ TEACHERS TABLE WITH CRUD\n//   const renderTeachers = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Teachers</h3>\n//         <button onClick={() => openCreateModal('teachers')} className=\"btn btn-primary\">\n//           ‚ûï Add New Teacher\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Department</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {teachers.length === 0 && (\n//             <tr><td colSpan={5}>No teachers found</td></tr>\n//           )}\n//           {teachers.map((t) => {\n//             const isEditing = editingId === t.id;\n//             const formData = editForms[t.id] || {};\n//             return (\n//               <tr key={t.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || t.first_name || ''}\n//                       onChange={(e) => updateEditField(t.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${t.first_name || ''} ${t.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.department || t.department || ''}\n//                       onChange={(e) => updateEditField(t.id, 'department', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.department || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || t.phone || ''}\n//                       onChange={(e) => updateEditField(t.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : t.phone || 'N/A'}\n//                 </td>\n//                 <td>{t.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateTeacher, t.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(t, t.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteTeacher, t.id, 'teacher')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ PARENTS TABLE WITH CRUD\n//   const renderParents = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Parents</h3>\n//         <button onClick={() => openCreateModal('parents')} className=\"btn btn-primary\">\n//           ‚ûï Add New Parent\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Name</th>\n//             <th>Children</th>\n//             <th>Phone</th>\n//             <th>Email</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {parents.length === 0 && (\n//             <tr><td colSpan={5}>No parents found</td></tr>\n//           )}\n//           {parents.map((p) => {\n//             const isEditing = editingId === p.id;\n//             const formData = editForms[p.id] || {};\n//             const childrenNames = Array.isArray(p.children) ? p.children.map(c => c.name).join(', ') : 'N/A';\n//             return (\n//               <tr key={p.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.first_name || p.first_name || ''}\n//                       onChange={(e) => updateEditField(p.id, 'first_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : (\n//                     `${p.first_name || ''} ${p.last_name || ''}`.trim() || 'N/A'\n//                   )}\n//                 </td>\n//                 <td>{childrenNames}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.phone || p.phone || ''}\n//                       onChange={(e) => updateEditField(p.id, 'phone', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : p.phone || 'N/A'}\n//                 </td>\n//                 <td>{p.email || 'N/A'}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateParent, p.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(p, p.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteParent, p.id, 'parent')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CLASSES TABLE WITH CRUD\n//   const renderClasses = () => (\n//     <div className=\"table-wrapper\">\n//       <div className=\"table-header\">\n//         <h3>Classes</h3>\n//         <button onClick={() => openCreateModal('classes')} className=\"btn btn-primary\">\n//           ‚ûï Add New Class\n//         </button>\n//       </div>\n//       <table className=\"data-table\">\n//         <thead>\n//           <tr>\n//             <th>Class</th>\n//             <th>Section</th>\n//             <th>Teacher</th>\n//             <th>Students</th>\n//             <th>Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {classes.length === 0 && (\n//             <tr><td colSpan={5}>No classes found</td></tr>\n//           )}\n//           {classes.map((c) => {\n//             const isEditing = editingId === c.id;\n//             const formData = editForms[c.id] || {};\n//             return (\n//               <tr key={c.id}>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.class_name || c.class_name || ''}\n//                       onChange={(e) => updateEditField(c.id, 'class_name', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.class_name || 'N/A'}\n//                 </td>\n//                 <td>\n//                   {isEditing ? (\n//                     <input\n//                       value={formData.section || c.section || ''}\n//                       onChange={(e) => updateEditField(c.id, 'section', e.target.value)}\n//                       className=\"edit-input\"\n//                     />\n//                   ) : c.section || 'N/A'}\n//                 </td>\n//                 <td>{c.teacher_name || 'Unassigned'}</td>\n//                 <td>{c.student_count || 0}</td>\n//                 <td>\n//                   {isEditing ? (\n//                     <>\n//                       <button onClick={() => saveEdit(adminAPI.updateClass, c.id)} className=\"btn btn-success btn-sm\">üíæ Save</button>\n//                       <button onClick={cancelEdit} className=\"btn btn-secondary btn-sm\">‚ùå Cancel</button>\n//                     </>\n//                   ) : (\n//                     <>\n//                       <button onClick={() => startEdit(c, c.id)} className=\"btn btn-warning btn-sm\">‚úèÔ∏è Edit</button>\n//                       <button onClick={() => confirmDelete(adminAPI.deleteClass, c.id, 'class')} className=\"btn btn-danger btn-sm\">üóëÔ∏è Delete</button>\n//                     </>\n//                   )}\n//                 </td>\n//               </tr>\n//             );\n//           })}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n\n//   // ‚úÖ CREATE MODALS\n//   const renderCreateModal = () => {\n//     const entity = Object.keys(showCreateModal).find(key => showCreateModal[key]);\n//     if (!entity) return null;\n\n//     const formData = createForms[entity] || {};\n//     const fields = {\n//       students: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'roll_number', label: 'Roll Number', type: 'text' },\n//         { key: 'class_id', label: 'Class ID', type: 'number' }\n//       ],\n//       // teachers: [\n//       //   { key: 'first_name', label: 'First Name', type: 'text' },\n//       //   { key: 'last_name', label: 'Last Name', type: 'text' },\n//       //   { key: 'email', label: 'Email', type: 'email' },\n//       //   { key: 'department', label: 'Department', type: 'text' },\n//       //   { key: 'phone', label: 'Phone', type: 'tel' }\n//       // ],\n//       teachers: [\n//      { key: 'first_name', label: 'First Name', type: 'text' },\n//      { key: 'last_name', label: 'Last Name', type: 'text' },\n//      { key: 'email', label: 'Email', type: 'email' },\n//      { key: 'department', label: 'Department', type: 'text' },\n//      { key: 'phone', label: 'Phone', type: 'tel' },\n\n//   // ‚úÖ Added fields\n//      { key: 'qualification', label: 'Qualification', type: 'text' },\n//      { key: 'hire_date', label: 'Hire Date', type: 'date' }\n//      ],\n//       parents: [\n//         { key: 'first_name', label: 'First Name', type: 'text' },\n//         { key: 'last_name', label: 'Last Name', type: 'text' },\n//         { key: 'email', label: 'Email', type: 'email' },\n//         { key: 'phone', label: 'Phone', type: 'tel' }\n//       ],\n//       classes: [\n//         { key: 'class_name', label: 'Class Name', type: 'text' },\n//         { key: 'section', label: 'Section', type: 'text' },\n//         { key: 'teacher_id', label: 'Teacher ID', type: 'number' }\n//       ]\n//     };\n\n//     const createFn = {\n//       students: adminAPI.createStudent,\n//       teachers: adminAPI.createTeacher,\n//       parents: adminAPI.createParent,\n//       classes: adminAPI.createClass\n//     }[entity];\n\n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal\">\n//           <h3>Add New {entity.charAt(0).toUpperCase() + entity.slice(1)}</h3>\n//           <div className=\"modal-form\">\n//             {fields[entity].map(field => (\n//               <div key={field.key} className=\"form-group\">\n//                 <label>{field.label}</label>\n//                 <input\n//                   type={field.type}\n//                   value={formData[field.key] || ''}\n//                   onChange={(e) => updateCreateField(entity, field.key, e.target.value)}\n//                   className=\"form-input\"\n//                 />\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"modal-actions\">\n//             <button onClick={() => handleCreate(createFn, entity)} className=\"btn btn-primary\">\n//               Create\n//             </button>\n//             <button onClick={() => closeCreateModal(entity)} className=\"btn btn-secondary\">\n//               Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   // ‚úÖ CONFIRM DELETE MODAL (FIXES ESLint)\n//   const renderConfirmDialog = () => {\n//     if (!confirmDialog.show) return null;\n    \n//     return (\n//       <div className=\"modal-overlay\">\n//         <div className=\"modal confirm-modal\">\n//           <h3>{confirmDialog.title}</h3>\n//           <p>{confirmDialog.message}</p>\n//           <div className=\"modal-actions\">\n//             <button \n//               onClick={confirmDialog.onConfirm} \n//               className=\"btn btn-danger\"\n//             >\n//               ‚úÖ Yes, Delete\n//             </button>\n//             <button \n//               onClick={() => setConfirmDialog({ show: false, title: '', message: '', onConfirm: null, entityName: '' })}\n//               className=\"btn btn-secondary\"\n//             >\n//               ‚ùå Cancel\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   };\n\n//   if (loading) {\n//     return (\n//       <div className=\"dashboard-container\">\n//         <div className=\"dashboard-header\">\n//           <h2>Admin Dashboard</h2>\n//         </div>\n//         <div className=\"skeleton-loader\">\n//           <div className=\"admin-overview-grid\">\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//             <div className=\"skeleton-stat\"></div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"dashboard-container\">\n//       <div className=\"dashboard-header\">\n//         <h2>Admin Dashboard</h2>\n//         <div className=\"dashboard-user-info\">\n//           <span>{user?.email}</span>\n//           <button onClick={onLogout} className=\"btn btn-secondary\">\n//             Logout\n//           </button>\n//         </div>\n//       </div>\n\n//       {error && <div className=\"error-banner\">{error}</div>}\n\n//       <div className=\"dashboard-tabs\">\n//         <button className={tab === \"overview\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"overview\")}>\n//           Overview\n//         </button>\n//         <button className={tab === \"students\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"students\")}>\n//           Students\n//         </button>\n//         <button className={tab === \"teachers\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"teachers\")}>\n//           Teachers\n//         </button>\n//         <button className={tab === \"parents\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"parents\")}>\n//           Parents\n//         </button>\n//         <button className={tab === \"classes\" ? \"tab active\" : \"tab\"} onClick={() => setTab(\"classes\")}>\n//           Classes\n//         </button>\n//       </div>\n\n//       <div className=\"dashboard-content\">\n//         {tab === \"overview\" && renderOverview()}\n//         {tab === \"students\" && renderStudents()}\n//         {tab === \"teachers\" && renderTeachers()}\n//         {tab === \"parents\" && renderParents()}\n//         {tab === \"classes\" && renderClasses()}\n//         {renderCreateModal()}\n//         {renderConfirmDialog()} {/* ‚úÖ ADDED CONFIRM MODAL */}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default AdminDashboard;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}